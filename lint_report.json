
> ai_travel@0.1.0 lint
> eslint --format json

[{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\context\\UserDetailContext.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":3,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":3,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[89,92],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[89,92],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createContext } from \"react\";\r\n\r\nexport const UserDetailContext = createContext<any>(null)\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\middleware.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\app\\(auth)\\sign-in\\[[...sign-in]]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\app\\(auth)\\sign-up\\[[...sign-up]]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\app\\about\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\app\\actions\\trip.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":11,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[301,304],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[301,304],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\app\\actions\\user.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\app\\api\\aimodel\\route.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":102,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":102,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3085,3088],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3085,3088],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":115,"column":7,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":115,"endColumn":67,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[3468,3528],"text":"// @ts-expect-error - OpenRouter supports extra_body for reasoning"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":127,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":127,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3829,3832],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3829,3832],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":139,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":139,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4210,4213],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4210,4213],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":155,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":155,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4816,4819],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4816,4819],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":175,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":175,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5461,5464],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5461,5464],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from \"next/server\";\r\nimport OpenAI from \"openai\";\r\nimport { fetchPlaceDetails } from \"@/lib/imageService\";\r\n\r\nconst client = new OpenAI({\r\n  baseURL: \"https://openrouter.ai/api/v1\",\r\n  apiKey: process.env.OPENROUTER_API_KEY,\r\n});\r\n\r\nconst MODEL =\r\n  process.env.OPENROUTER_MODEL || \"x-ai/grok-4.1-fast:free\";\r\n\r\ntype TripPlanRequest = {\r\n  origin: string;\r\n  destination: string;\r\n  duration: string;\r\n  travelType: string;\r\n  budget: string;\r\n  purpose: string[];\r\n  specialRequirements?: string;\r\n};\r\n\r\nfunction buildPrompt(data: TripPlanRequest) {\r\n  return `\r\nYou are an AI Trip Planner.\r\nUser details:\r\n- From: ${data.origin}\r\n- To: ${data.destination}\r\n- Duration: ${data.duration}\r\n- Group: ${data.travelType}\r\n- Budget: ${data.budget}\r\n- Interests: ${data.purpose.join(\", \")}\r\n${data.specialRequirements ? `- Special: ${data.specialRequirements}` : \"\"}\r\n\r\nReturn ONLY a JSON object (no markdown, no extra text) with this shape:\r\n\r\n{\r\n  \"tripTitle\": \"string\",\r\n  \"startingPoint\": \"string\",\r\n  \"destination\": { \"city\": \"string\", \"country\": \"string\" },\r\n  \"groupSize\": \"Solo | Couple | Family | Friends | Business\",\r\n  \"budgetCategory\": \"Budget-friendly | Moderate | Luxury | Ultra-luxury\",\r\n  \"durationDays\": number,\r\n  \"interests\": [\"array\", \"of\", \"interests\"],\r\n  \"itinerary\": [\r\n    {\r\n      \"day\": number,\r\n      \"title\": \"string\",\r\n      \"activities\": [\r\n        { \r\n          \"time\": \"string (e.g., '9:00 AM - 11:00 AM')\", \r\n          \"name\": \"string (activity/place name)\", \r\n          \"description\": \"string (detailed 2-3 sentence description)\",\r\n          \"location\": \"string (specific address or area)\",\r\n          \"duration\": \"string (e.g., '2 hours')\",\r\n          \"category\": \"string (e.g., 'Sightseeing', 'Museum', 'Adventure', 'Food')\"\r\n        }\r\n      ],\r\n      \"hotel\": { \"name\": \"string\" },\r\n      \"meals\": [{ \"type\": \"Breakfast | Lunch | Dinner\", \"name\": \"string\" }]\r\n    }\r\n  ],\r\n  \"estimatedCost\": { \"total\": \"string\", \"perPerson\": \"string\" },\r\n  \"recommendations\": {\r\n    \"hotels\": [{ \"name\": \"string\" }],\r\n    \"restaurants\": [{ \"name\": \"string\" }],\r\n    \"travelTips\": [\"tip1\", \"tip2\"]\r\n  }\r\n}\r\n\r\nRules:\r\n- durationDays must be a number.\r\n- itinerary length must equal durationDays.\r\n- Each activity must have detailed description, location, duration, and category.\r\n- Descriptions should be engaging and informative (2-3 sentences).\r\n- Locations should be specific (neighborhood, street, or landmark).\r\n- Times should cover the full day (morning to evening).\r\n- Only return JSON.\r\n`;\r\n}\r\n\r\nexport async function POST(req: NextRequest) {\r\n  try {\r\n    const body = await req.json();\r\n    const tripData: TripPlanRequest | undefined = body?.tripData;\r\n\r\n    if (!tripData) {\r\n      return NextResponse.json(\r\n        { success: false, error: \"Missing tripData\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const required = [\r\n      \"origin\",\r\n      \"destination\",\r\n      \"duration\",\r\n      \"travelType\",\r\n      \"budget\",\r\n      \"purpose\",\r\n    ] as const;\r\n    const missing = required.filter((k) => !(tripData as any)[k]);\r\n    if (missing.length) {\r\n      return NextResponse.json(\r\n        { success: false, error: `Missing fields: ${missing.join(\", \")}` },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const prompt = buildPrompt(tripData);\r\n\r\n    const completion = await client.chat.completions.create({\r\n      model: MODEL,\r\n      messages: [{ role: \"system\", content: prompt }],\r\n      // @ts-ignore - OpenRouter supports extra_body for reasoning\r\n      extra_body: { reasoning: { enabled: true } },\r\n    });\r\n\r\n    let text = completion.choices?.[0]?.message?.content || \"\";\r\n    text = text\r\n      .trim()\r\n      .replace(/^```json\\s*/i, \"\")\r\n      .replace(/^```\\s*/i, \"\")\r\n      .replace(/\\s*```$/i, \"\");\r\n\r\n    // Parse safely\r\n    let json: any;\r\n    try {\r\n      json = JSON.parse(text);\r\n    } catch {\r\n      const match = text.match(/\\{[\\s\\S]*\\}/);\r\n      if (!match) throw new Error(\"Model did not return JSON\");\r\n      json = JSON.parse(match[0]);\r\n    }\r\n\r\n    // Enhance with SerpApi data\r\n    if (json.itinerary && Array.isArray(json.itinerary)) {\r\n      await Promise.all(\r\n        json.itinerary.map(async (day: any) => {\r\n          const promises = [];\r\n\r\n          // Fetch hotel details\r\n          if (day.hotel?.name) {\r\n            promises.push(\r\n              (async () => {\r\n                const query = `${day.hotel.name} hotel in ${json.destination?.city || tripData.destination}`;\r\n                const details = await fetchPlaceDetails(query);\r\n                day.hotel = { ...day.hotel, ...details };\r\n              })()\r\n            );\r\n          }\r\n\r\n          // Fetch activity details\r\n          if (day.activities && Array.isArray(day.activities)) {\r\n            day.activities.forEach((activity: any) => {\r\n              if (activity.name) {\r\n                promises.push(\r\n                  (async () => {\r\n                    const query = `${activity.name} ${json.destination?.city || tripData.destination}`;\r\n                    const details = await fetchPlaceDetails(query);\r\n                    activity.imageUrl = details.imageUrl;\r\n                    activity.mapLink = details.mapLink;\r\n                  })()\r\n                );\r\n              }\r\n            });\r\n          }\r\n\r\n          await Promise.all(promises);\r\n        })\r\n      );\r\n    }\r\n\r\n    return NextResponse.json({ success: true, data: json });\r\n  } catch (err: any) {\r\n    console.error(\"aimodel error:\", err);\r\n    return NextResponse.json(\r\n      { success: false, error: err?.message || \"Failed to generate trip plan\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n// Simple test route\r\nexport async function GET() {\r\n  return NextResponse.json({ ok: true, route: \"/api/aimodel\" });\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\app\\api\\arcjet\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\app\\api\\trip\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":12,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[335,338],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[335,338],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":57,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":57,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1527,1530],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1527,1530],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from \"next/server\";\r\n\r\n// Optional: define the shape you expect\r\ninterface Trip {\r\n  tripTitle: string;\r\n  startingPoint?: string;\r\n  destination: { city: string; country: string };\r\n  durationDays: number;\r\n  budgetCategory?: string;\r\n  groupSize?: string;\r\n  interests?: string[];\r\n  itinerary?: any[];\r\n}\r\n\r\n// Helper (optional)\r\nasync function saveTrip(req: NextRequest) {\r\n  const body = await req.json().catch(() => null);\r\n  const trip: Trip | undefined = body?.trip;\r\n\r\n  if (!trip) {\r\n    return NextResponse.json(\r\n      { success: false, error: \"Missing 'trip' in request body\" },\r\n      { status: 400 }\r\n    );\r\n  }\r\n\r\n  // Basic validation\r\n  if (!trip.tripTitle) {\r\n    return NextResponse.json(\r\n      { success: false, error: \"trip.tripTitle is required\" },\r\n      { status: 400 }\r\n    );\r\n  }\r\n  if (!trip.destination?.city || !trip.destination?.country) {\r\n    return NextResponse.json(\r\n      { success: false, error: \"destination.city and destination.country are required\" },\r\n      { status: 400 }\r\n    );\r\n  }\r\n  if (typeof trip.durationDays !== \"number\") {\r\n    return NextResponse.json(\r\n      { success: false, error: \"durationDays must be a number\" },\r\n      { status: 400 }\r\n    );\r\n  }\r\n\r\n\r\n  const saved = { id: crypto.randomUUID(), ...trip };\r\n\r\n  return NextResponse.json({ success: true, data: saved }, { status: 201 });\r\n}\r\n\r\n// Export HTTP handlers\r\nexport async function POST(req: NextRequest) {\r\n  try {\r\n    return await saveTrip(req);\r\n  } catch (err: any) {\r\n    return NextResponse.json(\r\n      { success: false, error: err?.message || \"Failed to save trip\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n// Optional: sanity check\r\nexport async function GET() {\r\n  return NextResponse.json({ ok: true, route: \"/api/save-trip\" });\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\app\\components\\header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\app\\components\\hero.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\app\\components\\popularCityList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\app\\create-new-trip\\_components\\ChatBox.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":46,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":46,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[949,952],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[949,952],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":139,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":139,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3579,3582],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3579,3582],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setUserDetail' is assigned a value but never used.","line":142,"column":23,"nodeType":null,"messageId":"unusedVar","endLine":142,"endColumn":36},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'askNextQuestion'. Either include it or remove the dependency array.","line":167,"column":6,"nodeType":"ArrayExpression","endLine":167,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [askNextQuestion]","fix":{"range":[4310,4312],"text":"[askNextQuestion]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":295,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":295,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8551,8554],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8551,8554],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":317,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":317,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9312,9315],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9312,9315],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":355,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":355,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10310,10313],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10310,10313],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":371,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":371,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10703,10706],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10703,10706],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":384,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":384,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11061,11064],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11061,11064],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\nimport axios from \"axios\";\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nimport {\r\n  Send,\r\n  Bot,\r\n  User,\r\n  Sparkles,\r\n  Calendar,\r\n  Users,\r\n  DollarSign,\r\n  Target,\r\n  Home,\r\n  Plane,\r\n  Loader2,\r\n  CheckCircle,\r\n  AlertCircle,\r\n} from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { saveTrip } from \"@/app/actions/trip\";\r\nimport { useUserDetail } from \"@/app/provider\";\r\n\r\n\r\ninterface Message {\r\n  id: string;\r\n  content: string;\r\n  role: \"user\" | \"bot\";\r\n  timestamp: Date;\r\n  options?: string[];\r\n  type?: \"text\" | \"success\" | \"error\" | \"loading\";\r\n}\r\n\r\ninterface TripData {\r\n  origin?: string;\r\n  destination?: string;\r\n  duration?: string;\r\n  travelType?: string;\r\n  budget?: string;\r\n  purpose?: string[];\r\n  specialRequirements?: string;\r\n}\r\n\r\ninterface ChatBoxProps {\r\n  onTripGenerated?: (tripPlan: any) => void;\r\n  onTripDataUpdate?: (tripData: TripData) => void;\r\n}\r\n\r\nconst QUESTIONS = [\r\n  {\r\n    id: \"origin\",\r\n    text: \"Where are you traveling from? üè†\",\r\n    field: \"origin\",\r\n    type: \"text\",\r\n    icon: Home,\r\n    placeholder: \"e.g., New York, London, Tokyo...\",\r\n  },\r\n  {\r\n    id: \"destination\",\r\n    text: \"Where would you like to go? ‚úàÔ∏è\",\r\n    field: \"destination\",\r\n    type: \"text\",\r\n    icon: Plane,\r\n    placeholder: \"e.g., Paris, Bali, Rome...\",\r\n  },\r\n  {\r\n    id: \"duration\",\r\n    text: \"How many days are you planning to travel? üìÖ\",\r\n    field: \"duration\",\r\n    type: \"text\",\r\n    icon: Calendar,\r\n    placeholder: \"e.g., 5 days, 1 week, 2 weeks...\",\r\n  },\r\n  {\r\n    id: \"travelType\",\r\n    text: \"Who's joining you on this adventure? üë•\",\r\n    field: \"travelType\",\r\n    type: \"options\",\r\n    icon: Users,\r\n    options: [\"Solo\", \"Couple\", \"Family\", \"Friends\", \"Business\"],\r\n  },\r\n  {\r\n    id: \"budget\",\r\n    text: \"What's your budget range? üí∞\",\r\n    field: \"budget\",\r\n    type: \"options\",\r\n    icon: DollarSign,\r\n    options: [\"Budget-friendly\", \"Moderate\", \"Luxury\", \"Ultra-luxury\"],\r\n  },\r\n  {\r\n    id: \"purpose\",\r\n    text: \"What kind of experiences are you looking for? üéØ (You can select multiple)\",\r\n    field: \"purpose\",\r\n    type: \"multiple\",\r\n    icon: Target,\r\n    options: [\r\n      \"Sightseeing\",\r\n      \"Adventure\",\r\n      \"Honeymoon\",\r\n      \"Business\",\r\n      \"Culture\",\r\n      \"Food & Dining\",\r\n      \"Relaxation\",\r\n      \"Nightlife\",\r\n      \"Shopping\",\r\n      \"Photography\",\r\n    ],\r\n  },\r\n  {\r\n    id: \"special\",\r\n    text: \"Any special requirements or preferences? (Optional) üìù\",\r\n    field: \"specialRequirements\",\r\n    type: \"text\",\r\n    icon: Sparkles,\r\n    placeholder:\r\n      \"e.g., vegetarian restaurants, wheelchair accessible, near beach...\",\r\n  },\r\n];\r\n\r\nfunction ChatBox({ onTripGenerated, onTripDataUpdate }: ChatBoxProps) {\r\n  const [messages, setMessages] = useState<Message[]>([\r\n    {\r\n      id: \"1\",\r\n      content:\r\n        \"Hi! I'm your AI travel assistant. üåç Let me help you plan the perfect trip! I'll ask you a few questions to understand your travel preferences.\",\r\n      role: \"bot\",\r\n      timestamp: new Date(),\r\n    },\r\n  ]);\r\n\r\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(-1);\r\n  const [tripData, setTripData] = useState<TripData>({});\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [selectedOptions, setSelectedOptions] = useState<string[]>([]);\r\n\r\n  const [isGeneratingTrip, setIsGeneratingTrip] = useState(false);\r\n  const [lastTripPlan, setLastTripPlan] = useState<any | null>(null);\r\n  const [isSaving, setIsSaving] = useState(false);\r\n\r\n  const { userDetail, setUserDetail } = useUserDetail();\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n  const inputRef = useRef<HTMLTextAreaElement>(null);\r\n\r\n\r\n\r\n  const scrollToBottom = () =>\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  useEffect(() => {\r\n    onTripDataUpdate?.(tripData);\r\n  }, [tripData, onTripDataUpdate]);\r\n\r\n  const hasInitialized = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (!hasInitialized.current) {\r\n      hasInitialized.current = true;\r\n      setTimeout(() => {\r\n        askNextQuestion();\r\n      }, 1000);\r\n    }\r\n  }, []);\r\n\r\n  const askNextQuestion = () => {\r\n    const nextIndex = currentQuestionIndex + 1;\r\n    if (nextIndex < QUESTIONS.length) {\r\n      setCurrentQuestionIndex(nextIndex);\r\n      const question = QUESTIONS[nextIndex];\r\n\r\n      setIsTyping(true);\r\n      setTimeout(() => {\r\n        const botMessage: Message = {\r\n          id: Date.now().toString(),\r\n          content: question.text,\r\n          role: \"bot\",\r\n          timestamp: new Date(),\r\n          options:\r\n            question.type === \"options\" || question.type === \"multiple\"\r\n              ? question.options\r\n              : undefined,\r\n        };\r\n        setMessages((prev) => [...prev, botMessage]);\r\n        setIsTyping(false);\r\n        if (question.type === \"multiple\") setSelectedOptions([]);\r\n      }, 600);\r\n    } else {\r\n      generateTripSummary();\r\n    }\r\n  };\r\n\r\n  const generateTripPlan = async () => {\r\n    if (isGeneratingTrip) return;\r\n    setIsGeneratingTrip(true);\r\n\r\n    try {\r\n      const generatingMessage: Message = {\r\n        id: Date.now().toString(),\r\n        content:\r\n          \"üéØ Creating your personalized itinerary...\\n\\nThis may take a few moments as I:\\n‚Ä¢ Research the best attractions\\n‚Ä¢ Find stays\\n‚Ä¢ Plan daily activities\\n‚Ä¢ Estimate costs\",\r\n        role: \"bot\",\r\n        timestamp: new Date(),\r\n        type: \"loading\",\r\n      };\r\n      setMessages((prev) => [...prev, generatingMessage]);\r\n\r\n      const resp = await axios.post(\r\n        \"/api/aimodel\",\r\n        {\r\n          tripData: {\r\n            origin: tripData.origin ?? \"\",\r\n            destination: tripData.destination ?? \"\",\r\n            duration: tripData.duration ?? \"\",\r\n            travelType: tripData.travelType ?? \"\",\r\n            budget: tripData.budget ?? \"\",\r\n            purpose: tripData.purpose ?? [],\r\n            specialRequirements: tripData.specialRequirements ?? \"\",\r\n          },\r\n        },\r\n        { headers: { \"Content-Type\": \"application/json\" } }\r\n      );\r\n\r\n      const ct = String(resp.headers[\"content-type\"] || \"\");\r\n      if (!ct.includes(\"application/json\"))\r\n        throw new Error(\"API returned non-JSON (likely an error page).\");\r\n\r\n      const result = resp.data;\r\n\r\n      if (result?.success && result?.data) {\r\n        const tripPlan = result.data;\r\n        setLastTripPlan(tripPlan); // keep locally for Save\r\n\r\n        const successMessage: Message = {\r\n          id: (Date.now() + 1).toString(),\r\n          content: formatTripPlanMessage(tripPlan),\r\n          role: \"bot\",\r\n          timestamp: new Date(),\r\n          type: \"success\",\r\n        };\r\n\r\n        setMessages((prev) =>\r\n          prev.filter((m) => m.type !== \"loading\").concat(successMessage)\r\n        );\r\n        onTripGenerated?.(tripPlan);\r\n\r\n        setTimeout(async () => {\r\n          // Auto-save the trip\r\n          try {\r\n            const tripId = uuidv4();\r\n            await handleSaveTrip({\r\n              tripDetail: tripPlan,\r\n              tripId: tripId,\r\n              userId: userDetail?._id,\r\n            });\r\n            console.log(\"Trip Auto-Saved\");\r\n            \r\n            setMessages((prev) => [\r\n              ...prev,\r\n              {\r\n                id: (Date.now() + 2).toString(),\r\n                content: \"‚úÖ Trip saved automatically! What would you like to do next?\",\r\n                role: \"bot\",\r\n                timestamp: new Date(),\r\n                options: [\r\n                  \"View Full Itinerary\",\r\n                  \"Start New Trip\",\r\n                ],\r\n              },\r\n            ]);\r\n          } catch (error) {\r\n            console.error(\"Auto-save failed:\", error);\r\n             setMessages((prev) => [\r\n              ...prev,\r\n              {\r\n                id: (Date.now() + 2).toString(),\r\n                content: \"Trip generated but failed to save automatically. You can try saving manually.\",\r\n                role: \"bot\",\r\n                timestamp: new Date(),\r\n                options: [\r\n                  \"View Full Itinerary\",\r\n                  \"Save Trip\",\r\n                  \"Start New Trip\",\r\n                ],\r\n              },\r\n            ]);\r\n          }\r\n        }, 800);\r\n      } else {\r\n        throw new Error(result?.error || \"Failed to generate trip plan\");\r\n      }\r\n    } catch (error: any) {\r\n      const apiMsg =\r\n        error?.response?.data?.error ||\r\n        error?.message ||\r\n        \"Unknown error occurred\";\r\n      const errorMessage: Message = {\r\n        id: Date.now().toString(),\r\n        content: `‚ùå I encountered an issue while creating your trip plan.\\n\\nError: ${apiMsg}\\n\\nWould you like to try again or modify your preferences?`,\r\n        role: \"bot\",\r\n        timestamp: new Date(),\r\n        type: \"error\",\r\n        options: [\"Try again\", \"Modify Preferences\", \"Contact Support\"],\r\n      };\r\n      setMessages((prev) =>\r\n        prev.filter((m) => m.type !== \"loading\").concat(errorMessage)\r\n      );\r\n    } finally {\r\n      setIsGeneratingTrip(false);\r\n    }\r\n  };\r\n\r\n  const handleSaveTrip = async (data?: {\r\n    tripDetail: any;\r\n    tripId: string;\r\n    userId?: string;\r\n  }) => {\r\n    const tripDetail = data?.tripDetail || lastTripPlan;\r\n\r\n    if (!tripDetail) {\r\n      setMessages((prev) => [\r\n        ...prev,\r\n        {\r\n          id: Date.now().toString(),\r\n          content: \"No trip plan to save yet. Generate a plan first.\",\r\n          role: \"bot\",\r\n          timestamp: new Date(),\r\n        },\r\n      ]);\r\n      return;\r\n    }\r\n    try {\r\n      setIsSaving(true);\r\n      const tripId = data?.tripId || uuidv4();\r\n      await saveTrip({\r\n        tripDetail: tripDetail,\r\n        tripId: tripId,\r\n        userId: data?.userId || userDetail?._id, // Assuming userDetail has _id from MongoDB\r\n      });\r\n      console.log(\"Trip Saved\");\r\n\r\n      setMessages((prev) => [\r\n        ...prev,\r\n        {\r\n          id: Date.now().toString(),\r\n          content: \"‚úÖ Trip saved successfully!\",\r\n          role: \"bot\",\r\n          timestamp: new Date(),\r\n          type: \"success\",\r\n        },\r\n      ]);\r\n    } catch (e: any) {\r\n      setMessages((prev) => [\r\n        ...prev,\r\n        {\r\n          id: Date.now().toString(),\r\n          content: `‚ùå Failed to save trip: ${e.message || \"Unknown error\"}`,\r\n          role: \"bot\",\r\n          timestamp: new Date(),\r\n          type: \"error\",\r\n        },\r\n      ]);\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  const formatTripPlanMessage = (tripPlan: any) => {\r\n    return `‚ú® Your ${tripPlan.tripTitle || \"Trip\"} is Ready!\r\n\r\nüìç Destination: ${tripPlan.destination?.city}, ${tripPlan.destination?.country}\r\nüìÖ Duration: ${tripPlan.durationDays} days\r\nüí∞ Budget: ${tripPlan.budgetCategory}\r\nüë• Group: ${tripPlan.groupSize}\r\n\r\nüìã Highlights:\r\n${\r\n  tripPlan.itinerary\r\n    ?.slice(0, 3)\r\n    .map(\r\n      (day: any) =>\r\n        `Day ${day.day}: ${day.title}\r\n‚Ä¢ Morning: ${day.activities?.[0]?.name || \"Arrival & Check-in\"}\r\n‚Ä¢ Afternoon: ${day.activities?.[1]?.name || \"Explore the area\"}\r\n‚Ä¢ Evening: ${day.activities?.[2]?.name || \"Local dining\"}\r\nüè® Stay: ${day.hotel?.name || \"Selected accommodation\"}`\r\n    )\r\n    .join(\"\\n\") || \"Detailed itinerary available\"\r\n}\r\n\r\nüíµ Estimated Costs:\r\n‚Ä¢ Total: ${tripPlan.estimatedCost?.total || \"‚Äî\"}\r\n‚Ä¢ Per Person: ${tripPlan.estimatedCost?.perPerson || \"‚Äî\"}`;\r\n  };\r\n\r\n  const generateTripSummary = () => {\r\n    setIsTyping(true);\r\n    setTimeout(() => {\r\n      const summary = `Perfect! Here's what I've gathered:\r\n\r\nFrom: ${tripData.origin}\r\nTo: ${tripData.destination}\r\nDuration: ${tripData.duration}\r\nGroup: ${tripData.travelType}\r\nBudget: ${tripData.budget}\r\nInterests: ${tripData.purpose?.join(\", \") || \"‚Äî\"}\r\n${tripData.specialRequirements ? `Special: ${tripData.specialRequirements}` : \"\"}\r\n\r\nLet me create your personalized itinerary...`;\r\n\r\n      const botMessage: Message = {\r\n        id: Date.now().toString(),\r\n        content: summary,\r\n        role: \"bot\",\r\n        timestamp: new Date(),\r\n      };\r\n      setMessages((prev) => [...prev, botMessage]);\r\n      setIsTyping(false);\r\n      setTimeout(() => {\r\n        generateTripPlan();\r\n      }, 1000);\r\n    }, 700);\r\n  };\r\n\r\n  const handleOptionClick = async (option: string) => {\r\n    const currentQuestion = QUESTIONS[currentQuestionIndex];\r\n\r\n    if (option === \"Try again\") {\r\n      setMessages((prev) => [\r\n        ...prev,\r\n        {\r\n          id: Date.now().toString(),\r\n          content: option,\r\n          role: \"user\",\r\n          timestamp: new Date(),\r\n        },\r\n      ]);\r\n      if (!isGeneratingTrip) generateTripPlan();\r\n      return;\r\n    }\r\n    if (option === \"Modify Preferences\") {\r\n      setMessages((prev) => [\r\n        ...prev,\r\n        {\r\n          id: Date.now().toString(),\r\n          content: option,\r\n          role: \"user\",\r\n          timestamp: new Date(),\r\n        },\r\n      ]);\r\n      setCurrentQuestionIndex(-1);\r\n      setTripData({});\r\n      setSelectedOptions([]);\r\n      setTimeout(() => askNextQuestion(), 300);\r\n      return;\r\n    }\r\n    if (option === \"Contact Support\") {\r\n      setMessages((prev) => [\r\n        ...prev,\r\n        {\r\n          id: Date.now().toString(),\r\n          content: option,\r\n          role: \"user\",\r\n          timestamp: new Date(),\r\n        },\r\n        {\r\n          id: (Date.now() + 1).toString(),\r\n          content:\r\n            \"You can reach us at support@example.com. We‚Äôll get back within 24 hours.\",\r\n          role: \"bot\",\r\n          timestamp: new Date(),\r\n        },\r\n      ]);\r\n      return;\r\n    }\r\n    if (option === \"Save Trip\") {\r\n      setMessages((prev) => [\r\n        ...prev,\r\n        {\r\n          id: Date.now().toString(),\r\n          content: option,\r\n          role: \"user\",\r\n          timestamp: new Date(),\r\n        },\r\n      ]);\r\n      await handleSaveTrip();\r\n      return;\r\n    }\r\n\r\n    if (\r\n      option === \"View Full Itinerary\" ||\r\n      option === \"Modify Trip\" ||\r\n      option === \"Start New Trip\"\r\n    ) {\r\n      const userMessage: Message = {\r\n        id: Date.now().toString(),\r\n        content: option,\r\n        role: \"user\",\r\n        timestamp: new Date(),\r\n      };\r\n      setMessages((prev) => [...prev, userMessage]);\r\n\r\n      if (option === \"Start New Trip\") {\r\n        setCurrentQuestionIndex(-1);\r\n        setTripData({});\r\n        setSelectedOptions([]);\r\n        setLastTripPlan(null);\r\n        setLastTripPlan(null);\r\n        setTimeout(() => askNextQuestion(), 300);\r\n      } else if (option === \"View Full Itinerary\") {\r\n        if (!lastTripPlan) {\r\n           setMessages((prev) => [\r\n            ...prev,\r\n            {\r\n              id: Date.now().toString(),\r\n              content: \"No itinerary available yet. Please generate a trip first.\",\r\n              role: \"bot\",\r\n              timestamp: new Date(),\r\n            },\r\n          ]);\r\n        } else {\r\n           setMessages((prev) => [\r\n            ...prev,\r\n            {\r\n              id: Date.now().toString(),\r\n              content: \"You can view the full itinerary in the Trip Details panel on the right.\",\r\n              role: \"bot\",\r\n              timestamp: new Date(),\r\n            },\r\n          ]);\r\n        }\r\n      } else {\r\n        const responseMessage: Message = {\r\n          id: (Date.now() + 1).toString(),\r\n          content: `Processing \"${option}\"... This feature will be implemented soon!`,\r\n          role: \"bot\",\r\n          timestamp: new Date(),\r\n        };\r\n        setTimeout(() => {\r\n          setMessages((prev) => [...prev, responseMessage]);\r\n        }, 400);\r\n      }\r\n      return;\r\n    }\r\n\r\n    // selection flow\r\n    if (currentQuestion?.type === \"multiple\") {\r\n      const newSelected = selectedOptions.includes(option)\r\n        ? selectedOptions.filter((o) => o !== option)\r\n        : [...selectedOptions, option];\r\n      setSelectedOptions(newSelected);\r\n    } else {\r\n      const userMessage: Message = {\r\n        id: Date.now().toString(),\r\n        content: option,\r\n        role: \"user\",\r\n        timestamp: new Date(),\r\n      };\r\n      setMessages((prev) => [...prev, userMessage]);\r\n      setTripData((prev) => ({ ...prev, [currentQuestion.field]: option }));\r\n      askNextQuestion();\r\n    }\r\n  };\r\n\r\n  const handleMultipleSubmit = () => {\r\n    if (selectedOptions.length === 0) return;\r\n    const currentQuestion = QUESTIONS[currentQuestionIndex];\r\n    const userMessage: Message = {\r\n      id: Date.now().toString(),\r\n      content: selectedOptions.join(\", \"),\r\n      role: \"user\",\r\n      timestamp: new Date(),\r\n    };\r\n    setMessages((prev) => [...prev, userMessage]);\r\n    setTripData((prev) => ({\r\n      ...prev,\r\n      [currentQuestion.field]: selectedOptions,\r\n    }));\r\n    askNextQuestion();\r\n  };\r\n\r\n  const handleSend = () => {\r\n    if (!inputValue.trim()) return;\r\n    const currentQuestion = QUESTIONS[currentQuestionIndex];\r\n\r\n    const userMessage: Message = {\r\n      id: Date.now().toString(),\r\n      content: inputValue,\r\n      role: \"user\",\r\n      timestamp: new Date(),\r\n    };\r\n    setMessages((prev) => [...prev, userMessage]);\r\n\r\n    if (currentQuestion && currentQuestion.type === \"text\") {\r\n      setTripData((prev) => ({ ...prev, [currentQuestion.field]: inputValue }));\r\n      setInputValue(\"\");\r\n      askNextQuestion();\r\n    } else {\r\n      setInputValue(\"\");\r\n      setIsTyping(true);\r\n      setTimeout(() => {\r\n        const botMessage: Message = {\r\n          id: (Date.now() + 1).toString(),\r\n          content:\r\n            \"I understand you have additional questions. Once we finish the questionnaire, I can help more.\",\r\n          role: \"bot\",\r\n          timestamp: new Date(),\r\n        };\r\n        setMessages((prev) => [...prev, botMessage]);\r\n        setIsTyping(false);\r\n      }, 800);\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\r\n    if (e.key === \"Enter\" && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSend();\r\n    }\r\n  };\r\n\r\n  const handleSkip = () => {\r\n    const currentQuestion = QUESTIONS[currentQuestionIndex];\r\n    if (currentQuestion?.field === \"specialRequirements\") {\r\n      const userMessage: Message = {\r\n        id: Date.now().toString(),\r\n        content: \"Skip\",\r\n        role: \"user\",\r\n        timestamp: new Date(),\r\n      };\r\n      setMessages((prev) => [...prev, userMessage]);\r\n      askNextQuestion();\r\n    }\r\n  };\r\n\r\n  const currentQuestion = QUESTIONS[currentQuestionIndex];\r\n  const showOptions =\r\n    currentQuestion?.type === \"options\" || currentQuestion?.type === \"multiple\";\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-[calc(100vh-12rem)] max-h-[800px] bg-white dark:bg-neutral-900 rounded-2xl shadow-xl border border-neutral-200 dark:border-neutral-800 overflow-hidden\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-800\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"relative\">\r\n            <div className=\"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\r\n              {isSaving ? (\r\n                <Loader2 className=\"w-5 h-5 text-white animate-spin\" />\r\n              ) : (\r\n                <Bot className=\"w-5 h-5 text-white\" />\r\n              )}\r\n            </div>\r\n            <div className=\"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-white dark:border-neutral-900\" />\r\n          </div>\r\n          <div>\r\n            <h3 className=\"font-semibold text-neutral-900 dark:text-white\">\r\n              AI Travel Assistant\r\n            </h3>\r\n            <p className=\"text-xs text-neutral-500 dark:text-neutral-400\">\r\n              {isGeneratingTrip\r\n                ? \"Generating your trip plan...\"\r\n                : currentQuestionIndex >= 0 &&\r\n                    currentQuestionIndex < QUESTIONS.length\r\n                  ? `Question ${currentQuestionIndex + 1} of ${QUESTIONS.length}`\r\n                  : \"Always here to help plan your journey\"}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          {isGeneratingTrip ? (\r\n            <Loader2 className=\"w-5 h-5 text-blue-500 animate-spin\" />\r\n          ) : (\r\n            <Sparkles className=\"w-5 h-5 text-yellow-500\" />\r\n          )}\r\n          <span className=\"text-xs font-medium text-neutral-600 dark:text-neutral-300\">\r\n            {isGeneratingTrip ? \"Generating...\" : \"AI Powered\"}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Messages */}\r\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\r\n        {messages.map((message) => (\r\n          <div key={message.id}>\r\n            <div\r\n              className={cn(\r\n                \"flex gap-3\",\r\n                message.role === \"user\" ? \"justify-end\" : \"justify-start\"\r\n              )}\r\n            >\r\n              {message.role === \"bot\" && (\r\n                <div className=\"flex-shrink-0 w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\r\n                  {message.type === \"loading\" ? (\r\n                    <Loader2 className=\"w-4 h-4 text-white animate-spin\" />\r\n                  ) : message.type === \"success\" ? (\r\n                    <CheckCircle className=\"w-4 h-4 text-white\" />\r\n                  ) : message.type === \"error\" ? (\r\n                    <AlertCircle className=\"w-4 h-4 text-white\" />\r\n                  ) : (\r\n                    <Bot className=\"w-4 h-4 text-white\" />\r\n                  )}\r\n                </div>\r\n              )}\r\n              <div\r\n                className={cn(\r\n                  \"max-w-[80%] rounded-2xl px-4 py-2\",\r\n                  message.role === \"user\"\r\n                    ? \"bg-blue-500 text-white\"\r\n                    : message.type === \"success\"\r\n                      ? \"bg-green-50 dark:bg-green-900/20 text-neutral-900 dark:text-white border border-green-200 dark:border-green-800\"\r\n                      : message.type === \"error\"\r\n                        ? \"bg-red-50 dark:bg-red-900/20 text-neutral-900 dark:text-white border border-red-200 dark:border-red-800\"\r\n                        : message.type === \"loading\"\r\n                          ? \"bg-blue-50 dark:bg-blue-900/20 text-neutral-900 dark:text-white border border-blue-200 dark:border-blue-800\"\r\n                          : \"bg-neutral-100 dark:bg-neutral-800 text-neutral-900 dark:text-white\"\r\n                )}\r\n              >\r\n                <p className=\"text-sm whitespace-pre-wrap\">{message.content}</p>\r\n                <p\r\n                  className={cn(\r\n                    \"text-xs mt-1\",\r\n                    message.role === \"user\"\r\n                      ? \"text-blue-100\"\r\n                      : \"text-neutral-500 dark:text-neutral-400\"\r\n                  )}\r\n                >\r\n                  {message.timestamp.toLocaleTimeString([], {\r\n                    hour: \"2-digit\",\r\n                    minute: \"2-digit\",\r\n                  })}\r\n                </p>\r\n              </div>\r\n              {message.role === \"user\" && (\r\n                <div className=\"flex-shrink-0 w-8 h-8 bg-neutral-600 dark:bg-neutral-700 rounded-full flex items-center justify-center\">\r\n                  <User className=\"w-4 h-4 text-white\" />\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Options */}\r\n            {message.role === \"bot\" && message.options && (\r\n              <div className=\"ml-11 mt-3 flex flex-wrap gap-2\">\r\n                {message.options.map((option) => (\r\n                  <button\r\n                    key={option}\r\n                    onClick={() => handleOptionClick(option)}\r\n                    disabled={isGeneratingTrip || isSaving}\r\n                    className={cn(\r\n                      \"px-3 py-1.5 text-sm rounded-full border transition-all\",\r\n                      selectedOptions.includes(option)\r\n                        ? \"bg-blue-500 text-white border-blue-500\"\r\n                        : \"bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-300 dark:border-neutral-700 hover:border-blue-500 hover:text-blue-500 dark:hover:border-blue-400 dark:hover:text-blue-400\",\r\n                      (isGeneratingTrip || isSaving) &&\r\n                        \"opacity-50 cursor-not-allowed\"\r\n                    )}\r\n                  >\r\n                    {option}\r\n                  </button>\r\n                ))}\r\n                {currentQuestion?.type === \"multiple\" &&\r\n                  selectedOptions.length > 0 && (\r\n                    <button\r\n                      onClick={handleMultipleSubmit}\r\n                      disabled={isGeneratingTrip || isSaving}\r\n                      className=\"px-4 py-1.5 text-sm rounded-full bg-green-500 text-white hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                    >\r\n                      Continue ‚Üí\r\n                    </button>\r\n                  )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        ))}\r\n\r\n        {isTyping && (\r\n          <div className=\"flex gap-3 justify-start\">\r\n            <div className=\"flex-shrink-0 w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\r\n              <Bot className=\"w-4 h-4 text-white\" />\r\n            </div>\r\n            <div className=\"bg-neutral-100 dark:bg-neutral-800 rounded-2xl px-4 py-3\">\r\n              <div className=\"flex gap-1\">\r\n                <span className=\"w-2 h-2 bg-neutral-400 rounded-full animate-bounce [animation-delay:0ms]\" />\r\n                <span className=\"w-2 h-2 bg-neutral-400 rounded-full animate-bounce [animation-delay:150ms]\" />\r\n                <span className=\"w-2 h-2 bg-neutral-400 rounded-full animate-bounce [animation-delay:300ms]\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n\r\n      {/* Input */}\r\n      <div className=\"border-t border-neutral-200 dark:border-neutral-800 p-4\">\r\n        {currentQuestion?.field === \"specialRequirements\" && (\r\n          <div className=\"mb-2 flex justify-end\">\r\n            <button\r\n              onClick={handleSkip}\r\n              disabled={isGeneratingTrip || isSaving}\r\n              className=\"text-sm text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-200 disabled:opacity-50\"\r\n            >\r\n              Skip this question ‚Üí\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"flex gap-2\">\r\n          <div className=\"flex-1 relative\">\r\n            <Textarea\r\n              ref={inputRef}\r\n              value={inputValue}\r\n              onChange={(e) => setInputValue(e.target.value)}\r\n              onKeyDown={handleKeyDown}\r\n              placeholder={\r\n                currentQuestion?.placeholder ||\r\n                \"Type your answer or ask me anything...\"\r\n              }\r\n              disabled={\r\n                (showOptions && currentQuestion?.type !== \"multiple\") ||\r\n                isGeneratingTrip ||\r\n                isSaving\r\n              }\r\n              className=\"w-full px-4 py-3 pr-12 bg-neutral-100 dark:bg-neutral-800 rounded-xl resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 text-neutral-900 dark:text-white placeholder:text-neutral-500 dark:placeholder:text-neutral-400 text-sm disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              rows={1}\r\n              style={{ minHeight: 48, maxHeight: 120 }}\r\n            />\r\n            {currentQuestion && (\r\n              <div className=\"absolute right-2 bottom-3\">\r\n                {React.createElement(currentQuestion.icon, {\r\n                  className: \"w-5 h-5 text-neutral-400\",\r\n                })}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <button\r\n            onClick={handleSend}\r\n            disabled={\r\n              !inputValue.trim() ||\r\n              (showOptions && currentQuestion?.type !== \"multiple\") ||\r\n              isGeneratingTrip ||\r\n              isSaving\r\n            }\r\n            className=\"flex-shrink-0 w-12 h-12 bg-blue-500 hover:bg-blue-600 disabled:bg-neutral-300 dark:disabled:bg-neutral-700 disabled:cursor-not-allowed rounded-xl flex items-center justify-center transition-colors\"\r\n          >\r\n            <Send className=\"w-5 h-5 text-white\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatBox;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\app\\create-new-trip\\_components\\TripDetails.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Star' is defined but never used.","line":10,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":7},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":19,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[340,343],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[340,343],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":20,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[358,361],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[358,361],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":128,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":128,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6959,6962],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6959,6962],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":128,"column":63,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":128,"endColumn":66,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6969,6972],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6969,6972],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":139,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":139,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7589,7592],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7589,7592],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { motion } from \"framer-motion\";\r\nimport { \r\n  MapPin, \r\n  Calendar, \r\n  Wallet, \r\n  Sparkles,\r\n  Plane,\r\n  Star\r\n} from \"lucide-react\";\r\nimport { DaySection } from \"./TripDetailsComponents/DaySection\";\r\n\r\n// --- Main Component ---\r\nexport default function TripDetails({\r\n  tripPlan,\r\n  tripData,\r\n}: {\r\n  tripPlan: any;\r\n  tripData: any;\r\n}) {\r\n  \r\n  // --- Empty State (No Plan Yet) ---\r\n  if (!tripPlan) {\r\n    return (\r\n      <div className=\"relative bg-white dark:bg-neutral-900 rounded-3xl shadow-xl border border-neutral-200 dark:border-neutral-800 h-[calc(100vh-10rem)] max-h-[800px] overflow-hidden flex items-center justify-center\">\r\n        {/* Abstract Green Background */}\r\n        <div className=\"absolute inset-0 overflow-hidden\">\r\n          <div className=\"absolute top-0 right-0 w-[500px] h-[500px] bg-emerald-100/50 dark:bg-emerald-900/20 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/2\" />\r\n          <div className=\"absolute bottom-0 left-0 w-[500px] h-[500px] bg-teal-100/50 dark:bg-teal-900/20 rounded-full blur-[100px] translate-y-1/2 -translate-x-1/2\" />\r\n        </div>\r\n\r\n        <div className=\"relative z-10 text-center p-8 max-w-md\">\r\n          <motion.div\r\n            initial={{ scale: 0.8, opacity: 0 }}\r\n            animate={{ scale: 1, opacity: 1 }}\r\n            transition={{ duration: 0.5 }}\r\n            className=\"w-20 h-20 bg-gradient-to-tr from-emerald-400 to-teal-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-emerald-200 dark:shadow-none\"\r\n          >\r\n            <MapPin className=\"w-10 h-10 text-white\" />\r\n          </motion.div>\r\n          \r\n          <h2 className=\"text-3xl font-bold text-neutral-900 dark:text-white mb-3\">\r\n            Ready to Explore?\r\n          </h2>\r\n          <p className=\"text-neutral-500 dark:text-neutral-400 mb-8 leading-relaxed\">\r\n            Enter your destination and preferences to generate a personalized, day-by-day itinerary powered by AI.\r\n          </p>\r\n\r\n          {/* User Selection Summary (if data exists but no plan yet) */}\r\n          {tripData && (\r\n            <div className=\"grid grid-cols-2 gap-3 text-left\">\r\n              <div className=\"p-3 rounded-xl bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-800\">\r\n                <span className=\"text-[10px] font-bold uppercase text-emerald-600 dark:text-emerald-400\">Destination</span>\r\n                <p className=\"font-semibold text-neutral-800 dark:text-emerald-100\">{tripData.destination || \"‚Äî\"}</p>\r\n              </div>\r\n              <div className=\"p-3 rounded-xl bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-800\">\r\n                <span className=\"text-[10px] font-bold uppercase text-emerald-600 dark:text-emerald-400\">Dates</span>\r\n                <p className=\"font-semibold text-neutral-800 dark:text-emerald-100 text-sm truncate\">\r\n                  {tripData.startDate ? `${tripData.startDate} - ${tripData.endDate}` : \"‚Äî\"}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // --- Render Trip Plan ---\r\n  return (\r\n    <div className=\"bg-white dark:bg-neutral-900 rounded-3xl shadow-2xl border border-neutral-200 dark:border-neutral-800 h-[calc(100vh-10rem)] max-h-[800px] overflow-hidden flex flex-col\">\r\n      \r\n      {/* --- Sticky Header --- */}\r\n      <div className=\"relative z-30 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-md border-b border-neutral-200 dark:border-neutral-800\">\r\n        {/* Green Top Bar */}\r\n        <div className=\"h-2 w-full bg-gradient-to-r from-emerald-400 via-teal-500 to-emerald-600\" />\r\n        \r\n        <div className=\"p-6\">\r\n          <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n            <div>\r\n              <div className=\"flex items-center gap-2 mb-1\">\r\n                <span className=\"px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400\">\r\n                  Travel Itinerary\r\n                </span>\r\n              </div>\r\n              <h2 className=\"text-2xl sm:text-3xl font-black text-neutral-900 dark:text-white flex items-center gap-2\">\r\n                {tripPlan.tripTitle || `Trip to ${tripPlan.destination?.city}`}\r\n                <Plane className=\"w-6 h-6 text-emerald-500 rotate-[-45deg]\" />\r\n              </h2>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-4 text-sm\">\r\n               <div className=\"flex items-center gap-2 text-neutral-600 dark:text-neutral-400 bg-neutral-50 dark:bg-neutral-800 px-3 py-1.5 rounded-lg border border-neutral-200 dark:border-neutral-700\">\r\n                  <Calendar className=\"w-4 h-4 text-emerald-500\" />\r\n                  <span className=\"font-semibold\">{tripPlan.durationDays} Days</span>\r\n               </div>\r\n               <div className=\"flex items-center gap-2 text-neutral-600 dark:text-neutral-400 bg-neutral-50 dark:bg-neutral-800 px-3 py-1.5 rounded-lg border border-neutral-200 dark:border-neutral-700\">\r\n                  <Wallet className=\"w-4 h-4 text-emerald-500\" />\r\n                  <span className=\"font-semibold\">{tripPlan.budgetCategory}</span>\r\n               </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* --- Scrollable Content Area --- */}\r\n      <div className=\"flex-1 overflow-y-auto custom-scrollbar relative bg-neutral-50/50 dark:bg-neutral-950\">\r\n        <div className=\"max-w-4xl mx-auto px-4 py-8 sm:px-8\">\r\n          \r\n          {/* Intro Stats */}\r\n          <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-12\">\r\n            {tripPlan.destination && (\r\n              <div className=\"bg-white dark:bg-neutral-900 p-4 rounded-2xl shadow-sm border border-neutral-100 dark:border-neutral-800\">\r\n                <div className=\"text-xs text-neutral-400 uppercase font-bold mb-1\">City</div>\r\n                <div className=\"font-bold text-neutral-800 dark:text-white\">{tripPlan.destination.city}</div>\r\n              </div>\r\n            )}\r\n             {tripPlan.destination && (\r\n              <div className=\"bg-white dark:bg-neutral-900 p-4 rounded-2xl shadow-sm border border-neutral-100 dark:border-neutral-800\">\r\n                <div className=\"text-xs text-neutral-400 uppercase font-bold mb-1\">Country</div>\r\n                <div className=\"font-bold text-neutral-800 dark:text-white\">{tripPlan.destination.country}</div>\r\n              </div>\r\n            )}\r\n            <div className=\"bg-white dark:bg-neutral-900 p-4 rounded-2xl shadow-sm border border-neutral-100 dark:border-neutral-800\">\r\n                <div className=\"text-xs text-neutral-400 uppercase font-bold mb-1\">Total Spots</div>\r\n                <div className=\"font-bold text-neutral-800 dark:text-white\">\r\n                  {tripPlan.itinerary?.reduce((acc: any, day: any) => acc + (day.activities?.length || 0), 0)}\r\n                </div>\r\n              </div>\r\n              <div className=\"bg-white dark:bg-neutral-900 p-4 rounded-2xl shadow-sm border border-neutral-100 dark:border-neutral-800\">\r\n                <div className=\"text-xs text-neutral-400 uppercase font-bold mb-1\">Currency</div>\r\n                <div className=\"font-bold text-neutral-800 dark:text-white\">{tripPlan.destination?.currency || \"USD\"}</div>\r\n              </div>\r\n          </div>\r\n\r\n          {/* Timeline Iteration */}\r\n          <div className=\"space-y-0\">\r\n            {tripPlan.itinerary?.map((day: any, dayIndex: number) => (\r\n              <DaySection \r\n                key={dayIndex} \r\n                day={day} \r\n                index={dayIndex} \r\n                totalDays={tripPlan.itinerary.length} \r\n              />\r\n            ))}\r\n          </div>\r\n\r\n          {/* End of Trip */}\r\n          <div className=\"flex gap-6 mt-4 opacity-60\">\r\n            <div className=\"w-24 flex justify-center\">\r\n               <div className=\"w-0.5 h-8 bg-gradient-to-b from-emerald-500 to-transparent\" />\r\n            </div>\r\n            <div className=\"flex-1 pb-12\">\r\n               <div className=\"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 text-sm font-bold\">\r\n                 <Sparkles className=\"w-4 h-4\" />\r\n                 Trip Completed\r\n               </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\app\\create-new-trip\\_components\\TripDetailsComponents\\ActivityCard.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ImageIcon' is defined but never used.","line":16,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":16,"endColumn":21},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":20,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[324,327],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[324,327],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":34,"column":63,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":66,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[684,687],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[684,687],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":56,"column":15,"nodeType":"JSXOpeningElement","endLine":60,"endColumn":17}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\nimport { motion } from \"framer-motion\";\r\nimport { \r\n  MapPin, \r\n  Clock,\r\n  Landmark,\r\n  MapPinned,\r\n  Sparkles,\r\n  Utensils,\r\n  Navigation2,\r\n  Camera,\r\n  Star,\r\n  Leaf,\r\n  Wallet,\r\n  ExternalLink,\r\n  Image as ImageIcon\r\n} from \"lucide-react\";\r\n\r\n// --- Icon Mapping ---\r\nconst categoryIcons: Record<string, any> = {\r\n  \"Sightseeing\": Landmark,\r\n  \"Activity\": MapPinned,\r\n  \"Culture\": Sparkles,\r\n  \"Dining\": Utensils,\r\n  \"Walking Tour\": Navigation2,\r\n  \"Museum\": Camera,\r\n  \"Entertainment\": Star,\r\n  \"Historical Site\": Landmark,\r\n  \"Nature\": Leaf,\r\n  \"Shopping\": Wallet,\r\n  \"Fine Dining\": Utensils,\r\n};\r\n\r\nexport function ActivityCard({ activity, index }: { activity: any; index: number }) {\r\n  const CategoryIcon = categoryIcons[activity.category] || MapPinned;\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      whileInView={{ opacity: 1, y: 0 }}\r\n      viewport={{ once: true, margin: \"-50px\" }}\r\n      transition={{ duration: 0.4, delay: index * 0.1 }}\r\n      className=\"group relative pl-8 pb-8 last:pb-0\"\r\n    >\r\n      {/* Connector Dot on the local timeline */}\r\n      <div className=\"absolute left-0 top-6 w-3 h-3 rounded-full border-2 border-emerald-500 bg-white dark:bg-neutral-900 z-10 group-hover:scale-125 group-hover:bg-emerald-500 transition-all duration-300\" />\r\n      \r\n      {/* Vertical Line for specific day items */}\r\n      <div className=\"absolute left-[5px] top-8 bottom-0 w-0.5 bg-neutral-200 dark:bg-neutral-800 group-last:hidden\" />\r\n\r\n      <div className=\"bg-white dark:bg-neutral-800/50 rounded-2xl p-5 border border-neutral-100 dark:border-neutral-800 hover:border-emerald-200 dark:hover:border-emerald-900/50 shadow-sm hover:shadow-md transition-all duration-300\">\r\n        <div className=\"flex flex-col sm:flex-row gap-4\">\r\n          {/* Activity Image */}\r\n          {activity.imageUrl ? (\r\n            <div className=\"w-full sm:w-32 h-32 rounded-xl overflow-hidden flex-shrink-0 relative group-hover:shadow-md transition-all\">\r\n              <img \r\n                src={activity.imageUrl} \r\n                alt={activity.name} \r\n                className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500\" \r\n              />\r\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity\" />\r\n            </div>\r\n          ) : (\r\n            <div className=\"w-full sm:w-32 h-32 rounded-xl bg-emerald-50 dark:bg-emerald-900/20 flex items-center justify-center flex-shrink-0 text-emerald-300 dark:text-emerald-700\">\r\n               <CategoryIcon className=\"w-10 h-10 opacity-50\" />\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"flex-1 min-w-0\">\r\n            {/* Header: Time & Category */}\r\n            <div className=\"flex flex-wrap items-center gap-2 mb-2\">\r\n              {activity.time && (\r\n                <span className=\"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300 text-xs font-bold\">\r\n                  <Clock className=\"w-3 h-3\" />\r\n                  {activity.time}\r\n                </span>\r\n              )}\r\n              <span className=\"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-400 text-xs font-semibold border border-neutral-200 dark:border-neutral-700\">\r\n                <CategoryIcon className=\"w-3 h-3\" />\r\n                {activity.category}\r\n              </span>\r\n            </div>\r\n\r\n            <h4 className=\"text-lg font-bold text-neutral-800 dark:text-neutral-100 mb-1 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors\">\r\n              {activity.name}\r\n            </h4>\r\n            \r\n            <p className=\"text-sm text-neutral-600 dark:text-neutral-400 leading-relaxed mb-3 line-clamp-2\">\r\n              {activity.description || activity.details}\r\n            </p>\r\n\r\n            <div className=\"flex flex-wrap items-center gap-3\">\r\n              {activity.location && (\r\n                <div className=\"flex items-center gap-1.5 text-xs text-neutral-500 dark:text-neutral-500\">\r\n                  <MapPin className=\"w-3.5 h-3.5\" />\r\n                  <span className=\"truncate max-w-[200px]\">{activity.location}</span>\r\n                </div>\r\n              )}\r\n              \r\n              {activity.mapLink && (\r\n                <a \r\n                  href={activity.mapLink} \r\n                  target=\"_blank\" \r\n                  rel=\"noreferrer\"\r\n                  className=\"inline-flex items-center gap-1 text-xs font-bold text-emerald-600 dark:text-emerald-400 hover:underline ml-auto sm:ml-0\"\r\n                >\r\n                  View on Map <ExternalLink className=\"w-3 h-3\" />\r\n                </a>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\app\\create-new-trip\\_components\\TripDetailsComponents\\DaySection.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":6,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[209,212],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[209,212],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":50,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":50,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2534,2537],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2534,2537],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\nimport { motion } from \"framer-motion\";\r\nimport { ActivityCard } from \"./ActivityCard\";\r\nimport { HotelCard } from \"./HotelCard\";\r\n\r\nexport function DaySection({ day, index, totalDays }: { day: any; index: number; totalDays: number }) {\r\n  return (\r\n    <div className=\"flex gap-0 sm:gap-6 relative\">\r\n      {/* LEFT COLUMN: Sticky Day Indicator */}\r\n      <div className=\"flex flex-col items-center w-16 sm:w-24 flex-shrink-0\">\r\n        <div className=\"sticky top-6 z-20 flex flex-col items-center\">\r\n          <div className=\"relative\">\r\n            {/* Glowing effect behind the number */}\r\n            <div className=\"absolute inset-0 bg-emerald-500/20 blur-lg rounded-full\" />\r\n            \r\n            <div className=\"relative w-12 h-12 sm:w-14 sm:h-14 rounded-2xl bg-gradient-to-br from-emerald-400 to-emerald-600 dark:from-emerald-500 dark:to-emerald-700 shadow-lg flex items-center justify-center border-2 border-white dark:border-neutral-800 text-white\">\r\n               <span className=\"text-lg sm:text-xl font-black\">{day.day}</span>\r\n            </div>\r\n          </div>\r\n          <span className=\"mt-2 text-[10px] sm:text-xs font-bold text-emerald-600 dark:text-emerald-400 uppercase tracking-wider bg-white dark:bg-neutral-900 px-2 py-0.5 rounded-full shadow-sm border border-emerald-100 dark:border-emerald-900/50\">\r\n            Day\r\n          </span>\r\n        </div>\r\n        \r\n        {/* The Main Timeline Line connecting Days */}\r\n        {index !== totalDays - 1 && (\r\n          <div className=\"w-0.5 flex-grow bg-gradient-to-b from-emerald-500 via-emerald-200 to-transparent dark:from-emerald-600 dark:via-neutral-800 dark:to-transparent my-4 opacity-50\" />\r\n        )}\r\n      </div>\r\n\r\n      {/* RIGHT COLUMN: Content */}\r\n      <div className=\"flex-1 pb-16\">\r\n        {/* Day Title */}\r\n        <motion.div \r\n          initial={{ opacity: 0, x: -20 }}\r\n          whileInView={{ opacity: 1, x: 0 }}\r\n          viewport={{ once: true }}\r\n          className=\"mb-6 pt-2\"\r\n        >\r\n          <h3 className=\"text-2xl font-bold text-neutral-800 dark:text-neutral-100\">\r\n            {day.title}\r\n          </h3>\r\n          <p className=\"text-sm text-neutral-500 dark:text-neutral-400 mt-1\">\r\n            {day.activities?.length || 0} experiences planned for today\r\n          </p>\r\n        </motion.div>\r\n\r\n        {/* Activities List */}\r\n        <div className=\"relative border-l-2 border-dashed border-emerald-100 dark:border-neutral-800 ml-3 sm:ml-0\">\r\n          {day.activities?.map((activity: any, actIndex: number) => (\r\n            <ActivityCard key={actIndex} activity={activity} index={actIndex} />\r\n          ))}\r\n        </div>\r\n\r\n        {/* Hotel for the night */}\r\n        {day.hotel && <HotelCard hotel={day.hotel} />}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\app\\create-new-trip\\_components\\TripDetailsComponents\\HotelCard.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[48,51],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[48,51],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-no-undef","severity":2,"message":"'motion' is not defined.","line":4,"column":6,"nodeType":"JSXIdentifier","messageId":"undefined","endLine":4,"endColumn":12},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":19,"column":16,"nodeType":"JSXOpeningElement","endLine":19,"endColumn":100},{"ruleId":"react/jsx-no-undef","severity":2,"message":"'Home' is not defined.","line":23,"column":16,"nodeType":"JSXIdentifier","messageId":"undefined","endLine":23,"endColumn":20},{"ruleId":"react/jsx-no-undef","severity":2,"message":"'Star' is not defined.","line":34,"column":20,"nodeType":"JSXIdentifier","messageId":"undefined","endLine":34,"endColumn":24},{"ruleId":"react/jsx-no-undef","severity":2,"message":"'MapPin' is not defined.","line":45,"column":16,"nodeType":"JSXIdentifier","messageId":"undefined","endLine":45,"endColumn":22},{"ruleId":"react/jsx-no-undef","severity":2,"message":"'ExternalLink' is not defined.","line":56,"column":30,"nodeType":"JSXIdentifier","messageId":"undefined","endLine":56,"endColumn":42}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nexport function HotelCard({ hotel }: { hotel: any }) {\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, scale: 0.95 }}\r\n      whileInView={{ opacity: 1, scale: 1 }}\r\n      viewport={{ once: true }}\r\n      className=\"relative mt-6 mb-8 ml-8 overflow-hidden rounded-2xl border border-emerald-100 dark:border-emerald-900\"\r\n    >\r\n      <div className=\"absolute inset-0 bg-gradient-to-br from-emerald-50 to-white dark:from-emerald-950/30 dark:to-neutral-900 z-0\" />\r\n      \r\n      {/* Decorative Background Blob */}\r\n      <div className=\"absolute -right-10 -top-10 w-40 h-40 bg-emerald-100 dark:bg-emerald-900/20 rounded-full blur-3xl\" />\r\n\r\n      <div className=\"relative z-10 p-1\">\r\n        <div className=\"flex flex-col sm:flex-row gap-4 bg-white/60 dark:bg-black/20 backdrop-blur-sm rounded-xl p-4\">\r\n          {hotel.imageUrl ? (\r\n             <div className=\"w-full sm:w-32 h-32 rounded-lg overflow-hidden flex-shrink-0\">\r\n               <img src={hotel.imageUrl} alt={hotel.name} className=\"w-full h-full object-cover\" />\r\n             </div>\r\n          ) : (\r\n            <div className=\"w-full sm:w-32 h-32 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center flex-shrink-0 text-emerald-600\">\r\n              <Home className=\"w-8 h-8\" />\r\n            </div>\r\n          )}\r\n          \r\n          <div className=\"flex-1 min-w-0 py-1\">\r\n            <div className=\"flex items-center justify-between mb-1\">\r\n              <span className=\"text-xs font-bold uppercase tracking-wider text-emerald-600 dark:text-emerald-400\">\r\n                Where to stay\r\n              </span>\r\n              {hotel.rating && (\r\n                <div className=\"flex items-center gap-1 bg-yellow-100 dark:bg-yellow-900/20 px-2 py-0.5 rounded-full\">\r\n                  <Star className=\"w-3 h-3 text-yellow-600 dark:text-yellow-400 fill-yellow-600 dark:fill-yellow-400\" />\r\n                  <span className=\"text-xs font-bold text-yellow-700 dark:text-yellow-500\">{hotel.rating}</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n            \r\n            <h4 className=\"text-lg font-bold text-neutral-900 dark:text-white truncate mb-2\">\r\n              {hotel.name}\r\n            </h4>\r\n            \r\n            <div className=\"flex items-start gap-2 mb-3\">\r\n              <MapPin className=\"w-4 h-4 text-neutral-400 mt-0.5 flex-shrink-0\" />\r\n              <p className=\"text-sm text-neutral-600 dark:text-neutral-400 line-clamp-2\">{hotel.address}</p>\r\n            </div>\r\n\r\n            {hotel.mapLink && (\r\n              <a \r\n                href={hotel.mapLink} \r\n                target=\"_blank\" \r\n                rel=\"noreferrer\"\r\n                className=\"inline-flex items-center gap-1.5 text-xs font-semibold text-emerald-600 dark:text-emerald-400 hover:underline\"\r\n              >\r\n                View on Map <ExternalLink className=\"w-3 h-3\" />\r\n              </a>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\app\\create-new-trip\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":9,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[289,292],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[289,292],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":10,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[345,348],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[345,348],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\nimport React, { useState } from \"react\";\r\nimport ChatBox from \"./_components/ChatBox\";\r\nimport TripDetails from \"./_components/TripDetails\";\r\nimport { Sparkles } from \"lucide-react\";\r\n\r\n\r\nexport default function CreateNewTrip() {\r\n  const [tripPlan, setTripPlan] = useState<any>(null);\r\n  const [tripData, setTripData] = useState<any>(null);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-neutral-50 dark:bg-neutral-950 py-8\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-neutral-900 dark:text-white flex items-center gap-2\">\r\n            <Sparkles className=\"w-8 h-8 text-blue-500\" />\r\n            Plan Your Next Adventure\r\n          </h1>\r\n          <p className=\"mt-2 text-neutral-600 dark:text-neutral-400\">\r\n            Chat with our AI to create a personalized travel itinerary\r\n          </p>\r\n        </div>\r\n\r\n        <div \r\n          className={`grid grid-cols-1 gap-6 transition-all duration-500 ${\r\n            tripPlan ? \"lg:grid-cols-2\" : \"lg:grid-cols-1\"\r\n          }`}\r\n        >\r\n          {/* ChatBox - Full width when no trip, half width when trip exists */}\r\n          <div \r\n            className={`order-2 lg:order-1 transition-all duration-500 ${\r\n              !tripPlan ? \"lg:max-w-4xl lg:mx-auto w-full\" : \"\"\r\n            }`}\r\n          >\r\n            <ChatBox\r\n              onTripGenerated={(plan) => setTripPlan(plan)}\r\n              onTripDataUpdate={(data) => setTripData(data)}\r\n            />\r\n          </div>\r\n\r\n          {/* TripDetails - Only show when trip is generated */}\r\n          {tripPlan && (\r\n            <div className=\"order-1 lg:order-2 animate-slide-in-right\">\r\n              <TripDetails tripPlan={tripPlan} tripData={tripData} />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\app\\my-trips\\_components\\UserTripCard.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":7,"column":9,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":12,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[191,194],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[191,194],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\r\nimport { MapPin, Calendar, Wallet } from \"lucide-react\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\n\r\ninterface UserTripCardProps {\r\n  trip: any;\r\n}\r\n\r\nfunction UserTripCard({ trip }: UserTripCardProps) {\r\n  const tripData = trip?.tripDetail;\r\n\r\n  return (\r\n    <Link href={'/view-trip/' + trip.tripId}>\r\n      <div className=\"bg-white dark:bg-neutral-900 rounded-2xl shadow-md border border-neutral-200 dark:border-neutral-800 overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-[1.02] group\">\r\n        <div className=\"relative h-48 w-full bg-neutral-200 dark:bg-neutral-800 overflow-hidden\">\r\n          {/* Image Logic: Try to find an image from the itinerary */}\r\n          {tripData?.itinerary?.[0]?.hotel?.imageUrl || tripData?.itinerary?.[0]?.activities?.[0]?.imageUrl ? (\r\n             <Image \r\n               src={tripData?.itinerary?.[0]?.hotel?.imageUrl || tripData?.itinerary?.[0]?.activities?.[0]?.imageUrl}\r\n               alt={tripData?.destination?.city || \"Trip\"}\r\n               fill\r\n               className=\"object-cover group-hover:scale-110 transition-transform duration-700\"\r\n             />\r\n          ) : (\r\n            <div className=\"absolute inset-0 flex items-center justify-center text-emerald-200 dark:text-emerald-900 bg-emerald-50 dark:bg-emerald-950\">\r\n              <MapPin className=\"w-12 h-12\" />\r\n            </div>\r\n          )}\r\n          \r\n          <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent p-4 pt-10\">\r\n            <h3 className=\"text-xl font-bold text-white truncate\">\r\n              {tripData?.destination?.city || tripData?.destination}\r\n            </h3>\r\n            <p className=\"text-sm text-emerald-100 truncate font-medium\">\r\n              {tripData?.destination?.country}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"p-4 space-y-3\">\r\n          <div className=\"flex items-center justify-between text-sm text-neutral-600 dark:text-neutral-400\">\r\n            <div className=\"flex items-center gap-1.5 bg-emerald-50 dark:bg-emerald-900/20 px-2.5 py-1 rounded-lg text-emerald-700 dark:text-emerald-300 font-medium\">\r\n              <Calendar className=\"w-3.5 h-3.5\" />\r\n              <span>{tripData?.durationDays} Days</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-1.5 bg-neutral-100 dark:bg-neutral-800 px-2.5 py-1 rounded-lg\">\r\n              <Wallet className=\"w-3.5 h-3.5\" />\r\n              <span>{tripData?.budgetCategory}</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"pt-2 border-t border-neutral-100 dark:border-neutral-800\">\r\n              <p className=\"text-xs text-neutral-500 dark:text-neutral-500 line-clamp-2\">\r\n                  {tripData?.tripTitle || \"Your personalized trip plan\"}\r\n              </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n\r\nexport default UserTripCard;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\app\\my-trips\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":10,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[383,386],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[383,386],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchTrips'. Either include it or remove the dependency array.","line":17,"column":6,"nodeType":"ArrayExpression","endLine":17,"endColumn":18,"suggestions":[{"desc":"Update the dependencies array to be: [fetchTrips, userDetail]","fix":{"range":[524,536],"text":"[fetchTrips, userDetail]"}}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":57,"column":24,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[2078,2214],"text":"\r\n              You haven&apos;t created any trips yet. Start a conversation with our AI assistant to plan your next adventure!\r\n            "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[2078,2214],"text":"\r\n              You haven&lsquo;t created any trips yet. Start a conversation with our AI assistant to plan your next adventure!\r\n            "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[2078,2214],"text":"\r\n              You haven&#39;t created any trips yet. Start a conversation with our AI assistant to plan your next adventure!\r\n            "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[2078,2214],"text":"\r\n              You haven&rsquo;t created any trips yet. Start a conversation with our AI assistant to plan your next adventure!\r\n            "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useUserDetail } from \"../provider\";\r\nimport { getUserTrips } from \"../actions/trip\";\r\nimport UserTripCard from \"./_components/UserTripCard\";\r\nimport { Loader2, MapPinOff } from \"lucide-react\";\r\n\r\nfunction MyTrips() {\r\n  const { userDetail } = useUserDetail();\r\n  const [userTrips, setUserTrips] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (userDetail) {\r\n      fetchTrips();\r\n    }\r\n  }, [userDetail]);\r\n\r\n  const fetchTrips = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const trips = await getUserTrips(userDetail._id);\r\n      setUserTrips(trips);\r\n    } catch (error) {\r\n      console.error(\"Error fetching trips:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-neutral-50 dark:bg-neutral-950 py-12\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <h1 className=\"text-3xl font-bold text-neutral-900 dark:text-white mb-8\">\r\n          My Trips\r\n        </h1>\r\n\r\n        {loading ? (\r\n          <div className=\"flex items-center justify-center h-64\">\r\n            <Loader2 className=\"w-8 h-8 text-blue-500 animate-spin\" />\r\n          </div>\r\n        ) : userTrips.length > 0 ? (\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {userTrips.map((trip, index) => (\r\n              <UserTripCard key={index} trip={trip} />\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"flex flex-col items-center justify-center h-64 text-center\">\r\n            <div className=\"w-16 h-16 bg-neutral-100 dark:bg-neutral-800 rounded-full flex items-center justify-center mb-4\">\r\n              <MapPinOff className=\"w-8 h-8 text-neutral-400\" />\r\n            </div>\r\n            <h3 className=\"text-xl font-semibold text-neutral-900 dark:text-white mb-2\">\r\n              No trips found\r\n            </h3>\r\n            <p className=\"text-neutral-600 dark:text-neutral-400 max-w-md mb-6\">\r\n              You haven't created any trips yet. Start a conversation with our AI assistant to plan your next adventure!\r\n            </p>\r\n            <a\r\n              href=\"/create-new-trip\"\r\n              className=\"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-colors\"\r\n            >\r\n              Create New Trip\r\n            </a>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyTrips;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\app\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Header' is defined but never used.","line":1,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":1,"endColumn":14}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import Header from \"@/app/components/header\";\nimport Hero from \"@/app/components/hero\";\nimport { PopularCityList } from \"@/app/components/popularCityList\";\n\nexport default function Home() {\n  return (\n    <>\n      <Hero />\n      <PopularCityList />\n    </>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\app\\provider.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":16,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[500,503],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[500,503],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'checkUser' and 'user'. Either include them or remove the dependency array.","line":22,"column":6,"nodeType":"ArrayExpression","endLine":22,"endColumn":38,"suggestions":[{"desc":"Update the dependencies array to be: [user.id, isLoaded, isSignedIn, user, checkUser]","fix":{"range":[609,641],"text":"[user.id, isLoaded, isSignedIn, user, checkUser]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// app/provider.tsx\r\n\"use client\";\r\n\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport Header from \"./components/header\";\r\nimport { useUser } from \"@clerk/nextjs\";\r\nimport { createOrUpdateUser } from \"./actions/user\";\r\nimport { UserDetailContext } from \"../../context/UserDetailContext\";\r\n\r\nfunction Provider({\r\n  children,\r\n}: Readonly<{\r\n  children: React.ReactNode;\r\n}>) {\r\n  const { user, isLoaded, isSignedIn } = useUser();\r\n  const [userDetail, setUserDetail] = useState<any>(\"\");\r\n\r\n  useEffect(() => {\r\n    if (isLoaded && isSignedIn && user) {\r\n      checkUser();\r\n    }\r\n  }, [user?.id, isLoaded, isSignedIn]);\r\n\r\n  const checkUser = async () => {\r\n    if (!user) return;\r\n\r\n    try {\r\n      console.log(\"Provider: Starting user sync for Clerk ID:\", user.id);\r\n      const result = await createOrUpdateUser({\r\n        clerkId: user.id,\r\n        email: user.primaryEmailAddress?.emailAddress ?? \"\",\r\n        firstname: user.firstName ?? \"\",\r\n        lastname: user.lastName ?? \"\",\r\n        imageUrl: user.imageUrl ?? \"\",\r\n      });\r\n      setUserDetail(result);\r\n      console.log(\"Provider: User sync successful. Result:\", result);\r\n    } catch (error) {\r\n      console.error(\"Provider: User sync FAILED:\", error);\r\n    }\r\n  };\r\n  if (!isLoaded) {\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <div className=\"min-h-screen flex items-center justify-center\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <UserDetailContext.Provider value={{ userDetail, setUserDetail }}>\r\n      <div>\r\n        <Header />\r\n        {children}\r\n      </div>\r\n    </UserDetailContext.Provider>\r\n  );\r\n}\r\n\r\nexport default Provider;\r\n\r\nexport const useUserDetail = () => {\r\n  return useContext(UserDetailContext);\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\app\\view-trip\\[tripId]\\_components\\TripDetailsView.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":5,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":12},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":7,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[246,249],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[246,249],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":63,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":63,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3831,3834],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3831,3834],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":63,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":63,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3841,3844],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3841,3844],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":74,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":74,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4449,4452],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4449,4452],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":112,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":112,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6917,6920],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6917,6920],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":122,"column":31,"nodeType":"JSXOpeningElement","endLine":126,"endColumn":33},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":191,"column":30,"nodeType":"JSXOpeningElement","endLine":191,"endColumn":122}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React from 'react';\r\nimport { Calendar, Wallet, Plane, Sparkles, MapPin, Clock, Star, ExternalLink } from 'lucide-react';\r\nimport Link from 'next/link';\r\n\r\nexport default function TripDetailsView({ tripPlan }: { tripPlan: any }) {\r\n  return (\r\n    <div className=\"min-h-screen bg-neutral-50 dark:bg-neutral-950\">\r\n      {/* --- Sticky Header --- */}\r\n      <div className=\"sticky top-0 z-30 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-md border-b border-neutral-200 dark:border-neutral-800\">\r\n        {/* Green Top Bar */}\r\n        <div className=\"h-1.5 w-full bg-gradient-to-r from-emerald-400 via-teal-500 to-emerald-600\" />\r\n        \r\n        <div className=\"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\r\n          <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n            <div>\r\n              <div className=\"flex items-center gap-2 mb-1\">\r\n                <span className=\"px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400\">\r\n                  Travel Itinerary\r\n                </span>\r\n              </div>\r\n              <h1 className=\"text-2xl sm:text-3xl font-black text-neutral-900 dark:text-white flex items-center gap-2\">\r\n                {tripPlan.tripTitle || `Trip to ${tripPlan.destination?.city}`}\r\n                <Plane className=\"w-6 h-6 text-emerald-500 rotate-[-45deg]\" />\r\n              </h1>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-3 text-sm\">\r\n               <div className=\"flex items-center gap-2 text-neutral-600 dark:text-neutral-400 bg-neutral-100 dark:bg-neutral-800 px-3 py-1.5 rounded-lg border border-neutral-200 dark:border-neutral-700\">\r\n                  <Calendar className=\"w-4 h-4 text-emerald-500\" />\r\n                  <span className=\"font-semibold\">{tripPlan.durationDays} Days</span>\r\n               </div>\r\n               <div className=\"flex items-center gap-2 text-neutral-600 dark:text-neutral-400 bg-neutral-100 dark:bg-neutral-800 px-3 py-1.5 rounded-lg border border-neutral-200 dark:border-neutral-700\">\r\n                  <Wallet className=\"w-4 h-4 text-emerald-500\" />\r\n                  <span className=\"font-semibold\">{tripPlan.budgetCategory}</span>\r\n               </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* --- Main Content --- */}\r\n      <div className=\"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12\">\r\n        \r\n        {/* Intro Stats */}\r\n        <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-12\">\r\n          {tripPlan.destination && (\r\n            <div className=\"bg-white dark:bg-neutral-900 p-5 rounded-2xl shadow-sm border border-neutral-100 dark:border-neutral-800\">\r\n              <div className=\"text-xs text-neutral-400 uppercase font-bold mb-1\">City</div>\r\n              <div className=\"font-bold text-lg text-neutral-800 dark:text-white\">{tripPlan.destination.city}</div>\r\n            </div>\r\n          )}\r\n           {tripPlan.destination && (\r\n            <div className=\"bg-white dark:bg-neutral-900 p-5 rounded-2xl shadow-sm border border-neutral-100 dark:border-neutral-800\">\r\n              <div className=\"text-xs text-neutral-400 uppercase font-bold mb-1\">Country</div>\r\n              <div className=\"font-bold text-lg text-neutral-800 dark:text-white\">{tripPlan.destination.country}</div>\r\n            </div>\r\n          )}\r\n          <div className=\"bg-white dark:bg-neutral-900 p-5 rounded-2xl shadow-sm border border-neutral-100 dark:border-neutral-800\">\r\n              <div className=\"text-xs text-neutral-400 uppercase font-bold mb-1\">Total Spots</div>\r\n              <div className=\"font-bold text-lg text-neutral-800 dark:text-white\">\r\n                {tripPlan.itinerary?.reduce((acc: any, day: any) => acc + (day.activities?.length || 0), 0)}\r\n              </div>\r\n            </div>\r\n            <div className=\"bg-white dark:bg-neutral-900 p-5 rounded-2xl shadow-sm border border-neutral-100 dark:border-neutral-800\">\r\n              <div className=\"text-xs text-neutral-400 uppercase font-bold mb-1\">Currency</div>\r\n              <div className=\"font-bold text-lg text-neutral-800 dark:text-white\">{tripPlan.destination?.currency || \"USD\"}</div>\r\n            </div>\r\n        </div>\r\n\r\n        {/* Timeline Iteration */}\r\n        <div className=\"space-y-0\">\r\n          {tripPlan.itinerary?.map((day: any, dayIndex: number) => (\r\n            <div key={dayIndex} className=\"flex gap-0 sm:gap-6 relative\">\r\n              {/* LEFT COLUMN: Sticky Day Indicator */}\r\n              <div className=\"flex flex-col items-center w-16 sm:w-24 flex-shrink-0\">\r\n                <div className=\"sticky top-24 z-20 flex flex-col items-center\">\r\n                  <div className=\"relative\">\r\n                    {/* Glowing effect behind the number */}\r\n                    <div className=\"absolute inset-0 bg-emerald-500/20 blur-lg rounded-full\" />\r\n                    \r\n                    <div className=\"relative w-12 h-12 sm:w-14 sm:h-14 rounded-2xl bg-gradient-to-br from-emerald-400 to-emerald-600 dark:from-emerald-500 dark:to-emerald-700 shadow-lg flex items-center justify-center border-2 border-white dark:border-neutral-800 text-white\">\r\n                       <span className=\"text-lg sm:text-xl font-black\">{day.day}</span>\r\n                    </div>\r\n                  </div>\r\n                  <span className=\"mt-2 text-[10px] sm:text-xs font-bold text-emerald-600 dark:text-emerald-400 uppercase tracking-wider bg-white dark:bg-neutral-900 px-2 py-0.5 rounded-full shadow-sm border border-emerald-100 dark:border-emerald-900/50\">\r\n                    Day\r\n                  </span>\r\n                </div>\r\n                \r\n                {/* The Main Timeline Line connecting Days */}\r\n                {dayIndex !== tripPlan.itinerary.length - 1 && (\r\n                  <div className=\"w-0.5 flex-grow bg-gradient-to-b from-emerald-500 via-emerald-200 to-transparent dark:from-emerald-600 dark:via-neutral-800 dark:to-transparent my-4 opacity-50\" />\r\n                )}\r\n              </div>\r\n\r\n              {/* RIGHT COLUMN: Content */}\r\n              <div className=\"flex-1 pb-16\">\r\n                {/* Day Title */}\r\n                <div className=\"mb-6 pt-2\">\r\n                  <h3 className=\"text-2xl font-bold text-neutral-800 dark:text-neutral-100\">\r\n                    {day.title}\r\n                  </h3>\r\n                  <p className=\"text-sm text-neutral-500 dark:text-neutral-400 mt-1\">\r\n                    {day.activities?.length || 0} experiences planned for today\r\n                  </p>\r\n                </div>\r\n\r\n                {/* Activities List */}\r\n                <div className=\"relative border-l-2 border-dashed border-emerald-100 dark:border-neutral-800 ml-3 sm:ml-0 space-y-8\">\r\n                  {day.activities?.map((activity: any, actIndex: number) => (\r\n                    <div key={actIndex} className=\"group relative pl-8\">\r\n                      {/* Connector Dot */}\r\n                      <div className=\"absolute left-[-5px] top-6 w-3 h-3 rounded-full border-2 border-emerald-500 bg-white dark:bg-neutral-900 z-10\" />\r\n                      \r\n                      <div className=\"bg-white dark:bg-neutral-800/50 rounded-2xl p-5 border border-neutral-100 dark:border-neutral-800 hover:border-emerald-200 dark:hover:border-emerald-900/50 shadow-sm hover:shadow-md transition-all duration-300\">\r\n                        <div className=\"flex flex-col sm:flex-row gap-4\">\r\n                          {/* Activity Image */}\r\n                          {activity.imageUrl ? (\r\n                            <div className=\"w-full sm:w-32 h-32 rounded-xl overflow-hidden flex-shrink-0 relative\">\r\n                              <img \r\n                                src={activity.imageUrl} \r\n                                alt={activity.name} \r\n                                className=\"w-full h-full object-cover\" \r\n                              />\r\n                            </div>\r\n                          ) : (\r\n                            <div className=\"w-full sm:w-32 h-32 rounded-xl bg-emerald-50 dark:bg-emerald-900/20 flex items-center justify-center flex-shrink-0 text-emerald-300 dark:text-emerald-700\">\r\n                               <MapPin className=\"w-10 h-10 opacity-50\" />\r\n                            </div>\r\n                          )}\r\n\r\n                          <div className=\"flex-1 min-w-0\">\r\n                            {/* Header: Time & Category */}\r\n                            <div className=\"flex flex-wrap items-center gap-2 mb-2\">\r\n                              {activity.time && (\r\n                                <span className=\"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300 text-xs font-bold\">\r\n                                  <Clock className=\"w-3 h-3\" />\r\n                                  {activity.time}\r\n                                </span>\r\n                              )}\r\n                              <span className=\"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-400 text-xs font-semibold border border-neutral-200 dark:border-neutral-700\">\r\n                                <MapPin className=\"w-3 h-3\" />\r\n                                {activity.category}\r\n                              </span>\r\n                            </div>\r\n\r\n                            <h4 className=\"text-lg font-bold text-neutral-800 dark:text-neutral-100 mb-1\">\r\n                              {activity.name}\r\n                            </h4>\r\n                            \r\n                            <p className=\"text-sm text-neutral-600 dark:text-neutral-400 leading-relaxed mb-3 line-clamp-2\">\r\n                              {activity.description || activity.details}\r\n                            </p>\r\n\r\n                            <div className=\"flex flex-wrap items-center gap-3\">\r\n                              {activity.location && (\r\n                                <div className=\"flex items-center gap-1.5 text-xs text-neutral-500 dark:text-neutral-500\">\r\n                                  <MapPin className=\"w-3.5 h-3.5\" />\r\n                                  <span className=\"truncate max-w-[200px]\">{activity.location}</span>\r\n                                </div>\r\n                              )}\r\n                              \r\n                              {activity.mapLink && (\r\n                                <a \r\n                                  href={activity.mapLink} \r\n                                  target=\"_blank\" \r\n                                  rel=\"noreferrer\"\r\n                                  className=\"inline-flex items-center gap-1 text-xs font-bold text-emerald-600 dark:text-emerald-400 hover:underline ml-auto sm:ml-0\"\r\n                                >\r\n                                  View on Map <ExternalLink className=\"w-3 h-3\" />\r\n                                </a>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                {/* Hotel for the night */}\r\n                {day.hotel && (\r\n                  <div className=\"relative mt-6 mb-8 ml-8 overflow-hidden rounded-2xl border border-emerald-100 dark:border-emerald-900\">\r\n                    <div className=\"absolute inset-0 bg-gradient-to-br from-emerald-50 to-white dark:from-emerald-950/30 dark:to-neutral-900 z-0\" />\r\n                    <div className=\"relative z-10 p-1\">\r\n                      <div className=\"flex flex-col sm:flex-row gap-4 bg-white/60 dark:bg-black/20 backdrop-blur-sm rounded-xl p-4\">\r\n                        {day.hotel.imageUrl ? (\r\n                           <div className=\"w-full sm:w-32 h-32 rounded-lg overflow-hidden flex-shrink-0\">\r\n                             <img src={day.hotel.imageUrl} alt={day.hotel.name} className=\"w-full h-full object-cover\" />\r\n                           </div>\r\n                        ) : (\r\n                          <div className=\"w-full sm:w-32 h-32 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center flex-shrink-0 text-emerald-600\">\r\n                            <MapPin className=\"w-8 h-8\" />\r\n                          </div>\r\n                        )}\r\n                        \r\n                        <div className=\"flex-1 min-w-0 py-1\">\r\n                          <div className=\"flex items-center justify-between mb-1\">\r\n                            <span className=\"text-xs font-bold uppercase tracking-wider text-emerald-600 dark:text-emerald-400\">\r\n                              Where to stay\r\n                            </span>\r\n                            {day.hotel.rating && (\r\n                              <div className=\"flex items-center gap-1 bg-yellow-100 dark:bg-yellow-900/20 px-2 py-0.5 rounded-full\">\r\n                                <Star className=\"w-3 h-3 text-yellow-600 dark:text-yellow-400 fill-yellow-600 dark:fill-yellow-400\" />\r\n                                <span className=\"text-xs font-bold text-yellow-700 dark:text-yellow-500\">{day.hotel.rating}</span>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                          \r\n                          <h4 className=\"text-lg font-bold text-neutral-900 dark:text-white truncate mb-2\">\r\n                            {day.hotel.name}\r\n                          </h4>\r\n                          \r\n                          <div className=\"flex items-start gap-2 mb-3\">\r\n                            <MapPin className=\"w-4 h-4 text-neutral-400 mt-0.5 flex-shrink-0\" />\r\n                            <p className=\"text-sm text-neutral-600 dark:text-neutral-400 line-clamp-2\">{day.hotel.address}</p>\r\n                          </div>\r\n\r\n                          {day.hotel.mapLink && (\r\n                            <a \r\n                              href={day.hotel.mapLink} \r\n                              target=\"_blank\" \r\n                              rel=\"noreferrer\"\r\n                              className=\"inline-flex items-center gap-1.5 text-xs font-semibold text-emerald-600 dark:text-emerald-400 hover:underline\"\r\n                            >\r\n                              View on Map <ExternalLink className=\"w-3 h-3\" />\r\n                            </a>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* End of Trip */}\r\n        <div className=\"flex gap-6 mt-8 opacity-60\">\r\n          <div className=\"w-16 sm:w-24 flex justify-center\">\r\n             <div className=\"w-0.5 h-12 bg-gradient-to-b from-emerald-500 to-transparent\" />\r\n          </div>\r\n          <div className=\"flex-1 pb-12\">\r\n             <div className=\"inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 text-sm font-bold\">\r\n               <Sparkles className=\"w-4 h-4\" />\r\n               Trip Completed\r\n             </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\app\\view-trip\\[tripId]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\components\\ui\\apple-cards-carousel.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'handleClose'. Either include it or remove the dependency array.","line":198,"column":6,"nodeType":"ArrayExpression","endLine":198,"endColumn":12,"suggestions":[{"desc":"Update the dependencies array to be: [handleClose, open]","fix":{"range":[5486,5492],"text":"[handleClose, open]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\nimport React, {\n  useEffect,\n  useRef,\n  useState,\n  createContext,\n  useContext,\n} from \"react\";\nimport {\n  IconArrowNarrowLeft,\n  IconArrowNarrowRight,\n  IconX,\n} from \"@tabler/icons-react\";\nimport { cn } from \"@/lib/utils\";\nimport { AnimatePresence, motion } from \"motion/react\";\nimport Image, { ImageProps } from \"next/image\";\nimport { useOutsideClick } from \"@/hooks/use-outside-click\";\n\ninterface CarouselProps {\n  items: JSX.Element[];\n  initialScroll?: number;\n}\n\ntype Card = {\n  src: string;\n  title: string;\n  category: string;\n  content: React.ReactNode;\n};\n\nexport const CarouselContext = createContext<{\n  onCardClose: (index: number) => void;\n  currentIndex: number;\n}>({\n  onCardClose: () => {},\n  currentIndex: 0,\n});\n\nexport const Carousel = ({ items, initialScroll = 0 }: CarouselProps) => {\n  const carouselRef = React.useRef<HTMLDivElement>(null);\n  const [canScrollLeft, setCanScrollLeft] = React.useState(false);\n  const [canScrollRight, setCanScrollRight] = React.useState(true);\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  // FIX: Track mobile state properly with hydration safety\n  const [isMobile, setIsMobile] = useState(false);\n\n  // FIX: Set mobile state after mount to avoid hydration mismatch\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n\n    // Check on mount\n    checkMobile();\n\n    // Add resize listener\n    window.addEventListener(\"resize\", checkMobile);\n    return () => window.removeEventListener(\"resize\", checkMobile);\n  }, []);\n\n  useEffect(() => {\n    if (carouselRef.current) {\n      carouselRef.current.scrollLeft = initialScroll;\n      checkScrollability();\n    }\n  }, [initialScroll]);\n\n  const checkScrollability = () => {\n    if (carouselRef.current) {\n      const { scrollLeft, scrollWidth, clientWidth } = carouselRef.current;\n      setCanScrollLeft(scrollLeft > 0);\n      setCanScrollRight(scrollLeft < scrollWidth - clientWidth);\n    }\n  };\n\n  const scrollLeft = () => {\n    if (carouselRef.current) {\n      carouselRef.current.scrollBy({ left: -300, behavior: \"smooth\" });\n    }\n  };\n\n  const scrollRight = () => {\n    if (carouselRef.current) {\n      carouselRef.current.scrollBy({ left: 300, behavior: \"smooth\" });\n    }\n  };\n\n  const handleCardClose = (index: number) => {\n    if (carouselRef.current) {\n      // FIX: Use state instead of function call\n      const cardWidth = isMobile ? 230 : 384;\n      const gap = isMobile ? 4 : 8;\n      const scrollPosition = (cardWidth + gap) * (index + 1);\n      carouselRef.current.scrollTo({\n        left: scrollPosition,\n        behavior: \"smooth\",\n      });\n      setCurrentIndex(index);\n    }\n  };\n\n  return (\n    <CarouselContext.Provider\n      value={{ onCardClose: handleCardClose, currentIndex }}\n    >\n      <div className=\"relative w-full\">\n        <div\n          className=\"flex w-full overflow-x-scroll overscroll-x-auto scroll-smooth py-10 [scrollbar-width:none] md:py-20\"\n          ref={carouselRef}\n          onScroll={checkScrollability}\n        >\n          <div\n            className={cn(\n              \"absolute right-0 z-[1000] h-auto w-[5%] overflow-hidden bg-gradient-to-l\"\n            )}\n          ></div>\n\n          <div\n            className={cn(\n              \"flex flex-row justify-start gap-4 pl-4\",\n              \"mx-auto max-w-7xl\"\n            )}\n          >\n            {items.map((item, index) => (\n              <motion.div\n                initial={{\n                  opacity: 0,\n                  y: 20,\n                }}\n                animate={{\n                  opacity: 1,\n                  y: 0,\n                  transition: {\n                    duration: 0.5,\n                    delay: 0.2 * index,\n                    ease: \"easeOut\",\n                    once: true,\n                  },\n                }}\n                key={\"card\" + index}\n                className=\"rounded-3xl last:pr-[5%] md:last:pr-[33%]\"\n              >\n                {item}\n              </motion.div>\n            ))}\n          </div>\n        </div>\n        <div className=\"mr-10 flex justify-end gap-2\">\n          <button\n            className=\"relative z-40 flex h-10 w-10 items-center justify-center rounded-full bg-gray-100 disabled:opacity-50\"\n            onClick={scrollLeft}\n            disabled={!canScrollLeft}\n          >\n            <IconArrowNarrowLeft className=\"h-6 w-6 text-gray-500\" />\n          </button>\n          <button\n            className=\"relative z-40 flex h-10 w-10 items-center justify-center rounded-full bg-gray-100 disabled:opacity-50\"\n            onClick={scrollRight}\n            disabled={!canScrollRight}\n          >\n            <IconArrowNarrowRight className=\"h-6 w-6 text-gray-500\" />\n          </button>\n        </div>\n      </div>\n    </CarouselContext.Provider>\n  );\n};\n\nexport const Card = ({\n  card,\n  index,\n  layout = false,\n}: {\n  card: Card;\n  index: number;\n  layout?: boolean;\n}) => {\n  const [open, setOpen] = useState(false);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const { onCardClose } = useContext(CarouselContext);\n\n  useEffect(() => {\n    function onKeyDown(event: KeyboardEvent) {\n      if (event.key === \"Escape\") {\n        handleClose();\n      }\n    }\n\n    if (open) {\n      document.body.style.overflow = \"hidden\";\n    } else {\n      document.body.style.overflow = \"auto\";\n    }\n\n    window.addEventListener(\"keydown\", onKeyDown);\n    return () => window.removeEventListener(\"keydown\", onKeyDown);\n  }, [open]);\n\n  useOutsideClick(containerRef, () => handleClose());\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    onCardClose(index);\n  };\n\n  return (\n    <>\n      <AnimatePresence>\n        {open && (\n          <div className=\"fixed inset-0 z-50 h-screen overflow-auto\">\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              className=\"fixed inset-0 h-full w-full bg-black/80\"\n            />\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              ref={containerRef}\n              layoutId={layout ? `card-${card.title}` : undefined}\n              className=\"relative z-[60] mx-auto my-10 h-fit max-w-5xl rounded-3xl bg-white p-4 font-sans md:p-10 dark:bg-neutral-900\"\n            >\n              <button\n                className=\"sticky top-4 right-0 ml-auto flex h-8 w-8 items-center justify-center rounded-full bg-black dark:bg-white\"\n                onClick={handleClose}\n              >\n                <IconX className=\"h-6 w-6 text-neutral-100 dark:text-neutral-900\" />\n              </button>\n              <motion.p\n                layoutId={layout ? `category-${card.title}` : undefined}\n                className=\"text-base font-medium text-black dark:text-white\"\n              >\n                {card.category}\n              </motion.p>\n              <motion.p\n                layoutId={layout ? `title-${card.title}` : undefined}\n                className=\"mt-4 text-2xl font-semibold text-neutral-700 md:text-5xl dark:text-white\"\n              >\n                {card.title}\n              </motion.p>\n              <div className=\"py-10\">{card.content}</div>\n            </motion.div>\n          </div>\n        )}\n      </AnimatePresence>\n      <motion.button\n        layoutId={layout ? `card-${card.title}` : undefined}\n        onClick={handleOpen}\n        className=\"relative z-10 flex h-80 w-56 flex-col items-start justify-start overflow-hidden rounded-3xl bg-gray-100 md:h-[40rem] md:w-96 dark:bg-neutral-900\"\n      >\n        <div className=\"pointer-events-none absolute inset-x-0 top-0 z-30 h-full bg-gradient-to-b from-black/50 via-transparent to-transparent\" />\n        <div className=\"relative z-40 p-8\">\n          <motion.p\n            layoutId={layout ? `category-${card.category}` : undefined}\n            className=\"text-left font-sans text-sm font-medium text-white md:text-base\"\n          >\n            {card.category}\n          </motion.p>\n          <motion.p\n            layoutId={layout ? `title-${card.title}` : undefined}\n            className=\"mt-2 max-w-xs text-left font-sans text-xl font-semibold [text-wrap:balance] text-white md:text-3xl\"\n          >\n            {card.title}\n          </motion.p>\n        </div>\n        <BlurImage\n          src={card.src}\n          alt={card.title}\n          fill\n          sizes=\"(max-width: 768px) 224px, 384px\"\n          className=\"absolute inset-0 z-10 object-cover\"\n        />\n      </motion.button>\n    </>\n  );\n};\n\nexport const BlurImage = ({\n  height,\n  width,\n  src,\n  className,\n  alt,\n  fill,\n  sizes,\n  ...rest\n}: ImageProps & { fill?: boolean; sizes?: string }) => {\n  const [isLoading, setLoading] = useState(true);\n\n  const shouldUseFill = fill || (!width && !height);\n\n  return (\n    <Image\n      className={cn(\n        \"transition duration-300\",\n        isLoading ? \"blur-sm\" : \"blur-0\",\n        shouldUseFill ? \"h-full w-full\" : \"\",\n        className\n      )}\n      onLoad={() => setLoading(false)}\n      src={src}\n      width={shouldUseFill ? undefined : width}\n      height={shouldUseFill ? undefined : height}\n      fill={shouldUseFill}\n      sizes={shouldUseFill ? sizes || \"100vw\" : undefined}\n      loading=\"lazy\"\n      decoding=\"async\"\n      blurDataURL={typeof src === \"string\" ? src : undefined}\n      alt={alt || \"Background of a beautiful view\"}\n      {...rest}\n    />\n  );\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\components\\ui\\avatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\components\\ui\\button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\components\\ui\\dropdown-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\components\\ui\\input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\components\\ui\\label.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\components\\ui\\navigation-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\components\\ui\\sheet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\components\\ui\\textarea.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\components\\ui\\timeline.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useMotionValueEvent' is defined but never used.","line":3,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\nimport {\r\n  useMotionValueEvent,\r\n  useScroll,\r\n  useTransform,\r\n  motion,\r\n} from \"motion/react\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\n\r\ninterface TimelineEntry {\r\n  title: string;\r\n  content: React.ReactNode;\r\n}\r\n\r\nexport const Timeline = ({ data }: { data: TimelineEntry[] }) => {\r\n  const ref = useRef<HTMLDivElement>(null);\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const [height, setHeight] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (ref.current) {\r\n      const rect = ref.current.getBoundingClientRect();\r\n      setHeight(rect.height);\r\n    }\r\n  }, [ref]);\r\n\r\n  const { scrollYProgress } = useScroll({\r\n    target: containerRef,\r\n    offset: [\"start 10%\", \"end 50%\"],\r\n  });\r\n\r\n  const heightTransform = useTransform(scrollYProgress, [0, 1], [0, height]);\r\n  const opacityTransform = useTransform(scrollYProgress, [0, 0.1], [0, 1]);\r\n\r\n  return (\r\n    <div\r\n      className=\"w-full bg-white dark:bg-neutral-950 font-sans md:px-10\"\r\n      ref={containerRef}\r\n    >\r\n      <div className=\"max-w-7xl mx-auto py-20 px-4 md:px-8 lg:px-10\">\r\n        <h2 className=\"text-lg md:text-4xl mb-4 text-black dark:text-white max-w-4xl\">\r\n          Your Trip Itinerary\r\n        </h2>\r\n        <p className=\"text-neutral-700 dark:text-neutral-300 text-sm md:text-base max-w-sm\">\r\n          Here is the detailed plan for your upcoming adventure.\r\n        </p>\r\n      </div>\r\n\r\n      <div ref={ref} className=\"relative max-w-7xl mx-auto pb-20\">\r\n        {data.map((item, index) => (\r\n          <div\r\n            key={index}\r\n            className=\"flex justify-start pt-10 md:pt-40 md:gap-10\"\r\n          >\r\n            <div className=\"sticky flex flex-col md:flex-row z-40 items-center top-40 self-start max-w-xs lg:max-w-sm md:w-full\">\r\n              <div className=\"h-10 absolute left-3 md:left-3 w-10 rounded-full bg-white dark:bg-black flex items-center justify-center\">\r\n                <div className=\"h-4 w-4 rounded-full bg-neutral-200 dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-700 p-2\" />\r\n              </div>\r\n              <h3 className=\"hidden md:block text-xl md:pl-20 md:text-5xl font-bold text-neutral-500 dark:text-neutral-500 \">\r\n                {item.title}\r\n              </h3>\r\n            </div>\r\n\r\n            <div className=\"relative pl-20 pr-4 md:pl-4 w-full\">\r\n              <h3 className=\"md:hidden block text-2xl mb-4 text-left font-bold text-neutral-500 dark:text-neutral-500\">\r\n                {item.title}\r\n              </h3>\r\n              {item.content}{\" \"}\r\n            </div>\r\n          </div>\r\n        ))}\r\n        <div\r\n          style={{\r\n            height: height + \"px\",\r\n          }}\r\n          className=\"absolute md:left-8 left-8 top-0 overflow-hidden w-[2px] bg-[linear-gradient(to_bottom,var(--tw-gradient-stops))] from-transparent from-[0%] via-neutral-200 dark:via-neutral-700 to-transparent to-[99%]  [mask-image:linear-gradient(to_bottom,transparent_0%,black_10%,black_90%,transparent_100%)] \"\r\n        >\r\n          <motion.div\r\n            style={{\r\n              height: heightTransform,\r\n              opacity: opacityTransform,\r\n            }}\r\n            className=\"absolute inset-x-0 top-0  w-[2px] bg-gradient-to-t from-purple-500 via-blue-500 to-transparent from-[0%] via-[10%] rounded-full\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\hooks\\use-outside-click.tsx","messages":[{"ruleId":"@typescript-eslint/no-unsafe-function-type","severity":2,"message":"The `Function` type accepts any function-like value.\nPrefer explicitly defining any function parameters and return type.","line":5,"column":13,"nodeType":"Identifier","messageId":"bannedFunctionType","endLine":5,"endColumn":21},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":8,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[193,196],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[193,196],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect } from \"react\";\n\nexport const useOutsideClick = (\n  ref: React.RefObject<HTMLDivElement>,\n  callback: Function\n) => {\n  useEffect(() => {\n    const listener = (event: any) => {\n      // DO NOTHING if the element being clicked is the target element or their children\n      if (!ref.current || ref.current.contains(event.target)) {\n        return;\n      }\n      callback(event);\n    };\n\n    document.addEventListener(\"mousedown\", listener);\n    document.addEventListener(\"touchstart\", listener);\n\n    return () => {\n      document.removeEventListener(\"mousedown\", listener);\n      document.removeEventListener(\"touchstart\", listener);\n    };\n  }, [ref, callback]);\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\lib\\db.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":16,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[417,420],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[417,420],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":19,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[473,476],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[473,476],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import mongoose from 'mongoose';\r\n\r\nconst MONGODB_URI = process.env.MONGODB_URI;\r\n\r\nif (!MONGODB_URI) {\r\n  throw new Error(\r\n    'Please define the MONGODB_URI environment variable inside .env.local'\r\n  );\r\n}\r\n\r\n/**\r\n * Global is used here to maintain a cached connection across hot reloads\r\n * in development. This prevents connections growing exponentially\r\n * during API Route usage.\r\n */\r\nlet cached = (global as any).mongoose;\r\n\r\nif (!cached) {\r\n  cached = (global as any).mongoose = { conn: null, promise: null };\r\n}\r\n\r\nasync function dbConnect() {\r\n  if (cached.conn) {\r\n    return cached.conn;\r\n  }\r\n\r\n  if (!cached.promise) {\r\n    const opts = {\r\n      bufferCommands: false,\r\n    };\r\n\r\n    cached.promise = mongoose.connect(MONGODB_URI!, opts).then((mongoose) => {\r\n      return mongoose;\r\n    });\r\n  }\r\n\r\n  try {\r\n    cached.conn = await cached.promise;\r\n  } catch (e) {\r\n    cached.promise = null;\r\n    throw e;\r\n  }\r\n\r\n  return cached.conn;\r\n}\r\n\r\nexport default dbConnect;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\lib\\imageService.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":50,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":50,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1376,1379],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1376,1379],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import axios from 'axios';\r\n\r\nconst SERPAPI_API_KEY = process.env.SERPAPI_API_KEY;\r\n\r\ninterface PlaceDetails {\r\n  imageUrl?: string;\r\n  mapLink?: string;\r\n  rating?: number;\r\n  reviews?: number;\r\n  address?: string;\r\n}\r\n\r\nexport async function fetchPlaceDetails(query: string): Promise<PlaceDetails> {\r\n  if (!SERPAPI_API_KEY) {\r\n    console.warn(\"SERPAPI_API_KEY is missing\");\r\n    return {};\r\n  }\r\n\r\n  try {\r\n    // Use SerpAPI google_images engine for hotel images\r\n    const imageResponse = await axios.get('https://serpapi.com/search.json', {\r\n      params: {\r\n        engine: 'google_images',\r\n        q: query,\r\n        ijn: '0', // first page\r\n        api_key: SERPAPI_API_KEY,\r\n      },\r\n    });\r\n\r\n    console.log(`SerpAPI image search for \"${query}\":`, {\r\n      found: imageResponse.data.images_results?.length || 0,\r\n    });\r\n\r\n    const imageResults = imageResponse.data.images_results || [];\r\n    const imageUrl = imageResults.length > 0 \r\n      ? (imageResults[0].original || imageResults[0].thumbnail)\r\n      : undefined;\r\n\r\n    // Create Google Maps link (FREE - no API needed)\r\n    const mapLink = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(query)}`;\r\n\r\n    const result: PlaceDetails = {\r\n      imageUrl,\r\n      mapLink,\r\n    };\r\n\r\n    console.log(`Final result for \"${query}\":`, result);\r\n    return result;\r\n\r\n  } catch (error: any) {\r\n    console.error(`Failed to fetch details for ${query}:`, error.response?.data || error.message);\r\n    return {};\r\n  }\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\models\\Trip.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":5,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[141,144],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[141,144],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import mongoose, { Schema, Document, Model } from 'mongoose';\r\n\r\nexport interface ITrip extends Document {\r\n  tripId: string;\r\n  tripDetail: any;\r\n  userId: string;\r\n  createdAt: number;\r\n  updatedAt: number;\r\n}\r\n\r\nconst TripSchema: Schema = new Schema({\r\n  tripId: { type: String, required: true, unique: true },\r\n  tripDetail: { type: Schema.Types.Mixed, required: true },\r\n  userId: { type: String, required: true, index: true }, // Storing Clerk ID or User _id depending on usage\r\n  createdAt: { type: Number, default: () => Date.now() },\r\n  updatedAt: { type: Number, default: () => Date.now() },\r\n});\r\n\r\nconst Trip: Model<ITrip> = mongoose.models.Trip || mongoose.model<ITrip>('Trip', TripSchema);\r\n\r\nexport default Trip;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\Masai\\Projects\\AI Travel\\ai_travel\\src\\models\\User.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
